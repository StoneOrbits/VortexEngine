\hypertarget{classIRReceiver}{}\doxysection{IRReceiver Class Reference}
\label{classIRReceiver}\index{IRReceiver@{IRReceiver}}


{\ttfamily \#include $<$IRReceiver.\+h$>$}



Collaboration diagram for IRReceiver\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIRReceiver__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classIRReceiver_ac88260e926355b9da9bb31dcc2a49641}{IRReceiver}} (\mbox{\hyperlink{classVortexEngine}{Vortex\+Engine}} \&engine)
\item 
\mbox{\hyperlink{classIRReceiver_a79fbe240e7d7627656d71e83d4411104}{$\sim$\+IRReceiver}} ()
\item 
bool \mbox{\hyperlink{classIRReceiver_aad4e38923e65bec4c02197c56ec6a4af}{init}} ()
\item 
void \mbox{\hyperlink{classIRReceiver_ad2ff2918f176f499520fcc457c56a089}{cleanup}} ()
\item 
bool \mbox{\hyperlink{classIRReceiver_a180ea554d40c10a00750aa02c6301c16}{data\+Ready}} ()
\item 
bool \mbox{\hyperlink{classIRReceiver_aa8c42ac4fffc8e534fafd808e4f5b39e}{is\+Receiving}} ()
\item 
uint8\+\_\+t \mbox{\hyperlink{classIRReceiver_ae7f5628b174caf0f8db9be7adc53f287}{percent\+Received}} ()
\item 
uint16\+\_\+t \mbox{\hyperlink{classIRReceiver_ae9614c85000fcf5b35dc27747781449b}{bytes\+Received}} ()
\item 
bool \mbox{\hyperlink{classIRReceiver_a2f61a4167e2ea4d2d10cd81b18b9f3a1}{receive\+Mode}} (\mbox{\hyperlink{classMode}{Mode}} $\ast$p\+Mode)
\item 
bool \mbox{\hyperlink{classIRReceiver_a007b3616b460b97e210c136f429291f4}{begin\+Receiving}} ()
\item 
bool \mbox{\hyperlink{classIRReceiver_aa9d8177899465973e15d78c2795a8b01}{end\+Receiving}} ()
\item 
bool \mbox{\hyperlink{classIRReceiver_a285e559d21c2a414a9e7169caa9319c3}{on\+New\+Data}} ()
\item 
void \mbox{\hyperlink{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}{reset\+IRState}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9}{Recv\+State}} \+: uint8\+\_\+t \{ \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a86b34ad32b19d88eb7a430935ce098bf}{WAITING\+\_\+\+HEADER\+\_\+\+MARK}}
, \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a5d217c890135a690847bf68a1db5bd9a}{WAITING\+\_\+\+HEADER\+\_\+\+SPACE}}
, \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a821fa6d4dd086c1aef792ee19dc9857b}{READING\+\_\+\+DATA\+\_\+\+MARK}}
, \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a37b0cc5cf63cb62eb144be82420875f0}{READING\+\_\+\+DATA\+\_\+\+SPACE}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classIRReceiver_a5042d1da081da90fb066c9a383b2d40e}{read}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&data)
\item 
void \mbox{\hyperlink{classIRReceiver_a47b27e3ab9fca45833d48a4377a3d67d}{recv\+PCIHandler}} ()
\item 
void \mbox{\hyperlink{classIRReceiver_a30e0cdba86a79ce518d642cd9ec1a22e}{handle\+IRTiming}} (uint32\+\_\+t diff)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVortexEngine}{Vortex\+Engine}} \& \mbox{\hyperlink{classIRReceiver_ab9d155ed84b8b7bed9900d31e8833ae8}{m\+\_\+engine}}
\item 
\mbox{\hyperlink{classBitStream}{Bit\+Stream}} \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\+\_\+ir\+Data}}
\item 
\mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9}{Recv\+State}} \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\+\_\+recv\+State}}
\item 
uint32\+\_\+t \mbox{\hyperlink{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}{m\+\_\+prev\+Time}}
\item 
uint8\+\_\+t \mbox{\hyperlink{classIRReceiver_a45435d3921fa07b89bd46244dd05d860}{m\+\_\+pin\+State}}
\item 
uint32\+\_\+t \mbox{\hyperlink{classIRReceiver_ab7e3d5972a86db3258aa9690a250b1ec}{m\+\_\+previous\+Bytes}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 16 of file IRReceiver.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classIRReceiver_a56148488dd4f2a403202a0467b4940b9}\label{classIRReceiver_a56148488dd4f2a403202a0467b4940b9}} 
\index{IRReceiver@{IRReceiver}!RecvState@{RecvState}}
\index{RecvState@{RecvState}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{RecvState}{RecvState}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9}{IRReceiver\+::\+Recv\+State}} \+: uint8\+\_\+t\hspace{0.3cm}{\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{WAITING\_HEADER\_MARK@{WAITING\_HEADER\_MARK}!IRReceiver@{IRReceiver}}\index{IRReceiver@{IRReceiver}!WAITING\_HEADER\_MARK@{WAITING\_HEADER\_MARK}}}\mbox{\Hypertarget{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a86b34ad32b19d88eb7a430935ce098bf}\label{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a86b34ad32b19d88eb7a430935ce098bf}} 
WAITING\+\_\+\+HEADER\+\_\+\+MARK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{WAITING\_HEADER\_SPACE@{WAITING\_HEADER\_SPACE}!IRReceiver@{IRReceiver}}\index{IRReceiver@{IRReceiver}!WAITING\_HEADER\_SPACE@{WAITING\_HEADER\_SPACE}}}\mbox{\Hypertarget{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a5d217c890135a690847bf68a1db5bd9a}\label{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a5d217c890135a690847bf68a1db5bd9a}} 
WAITING\+\_\+\+HEADER\+\_\+\+SPACE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{READING\_DATA\_MARK@{READING\_DATA\_MARK}!IRReceiver@{IRReceiver}}\index{IRReceiver@{IRReceiver}!READING\_DATA\_MARK@{READING\_DATA\_MARK}}}\mbox{\Hypertarget{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a821fa6d4dd086c1aef792ee19dc9857b}\label{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a821fa6d4dd086c1aef792ee19dc9857b}} 
READING\+\_\+\+DATA\+\_\+\+MARK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{READING\_DATA\_SPACE@{READING\_DATA\_SPACE}!IRReceiver@{IRReceiver}}\index{IRReceiver@{IRReceiver}!READING\_DATA\_SPACE@{READING\_DATA\_SPACE}}}\mbox{\Hypertarget{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a37b0cc5cf63cb62eb144be82420875f0}\label{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a37b0cc5cf63cb62eb144be82420875f0}} 
READING\+\_\+\+DATA\+\_\+\+SPACE&\\
\hline

\end{DoxyEnumFields}


Definition at line 62 of file IRReceiver.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{63   \{}
\DoxyCodeLine{64     \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a86b34ad32b19d88eb7a430935ce098bf}{WAITING\_HEADER\_MARK}},}
\DoxyCodeLine{65     \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a5d217c890135a690847bf68a1db5bd9a}{WAITING\_HEADER\_SPACE}},}
\DoxyCodeLine{66     \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a821fa6d4dd086c1aef792ee19dc9857b}{READING\_DATA\_MARK}},}
\DoxyCodeLine{67     \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a37b0cc5cf63cb62eb144be82420875f0}{READING\_DATA\_SPACE}}}
\DoxyCodeLine{68   \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classIRReceiver_ac88260e926355b9da9bb31dcc2a49641}\label{classIRReceiver_ac88260e926355b9da9bb31dcc2a49641}} 
\index{IRReceiver@{IRReceiver}!IRReceiver@{IRReceiver}}
\index{IRReceiver@{IRReceiver}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{IRReceiver()}{IRReceiver()}}
{\footnotesize\ttfamily IRReceiver\+::\+IRReceiver (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classVortexEngine}{Vortex\+Engine}} \&}]{engine }\end{DoxyParamCaption})}



Definition at line 15 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{15                                            :}
\DoxyCodeLine{16   \mbox{\hyperlink{classIRReceiver_ab9d155ed84b8b7bed9900d31e8833ae8}{m\_engine}}(engine),}
\DoxyCodeLine{17   \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}(),}
\DoxyCodeLine{18   \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}}(\mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a86b34ad32b19d88eb7a430935ce098bf}{WAITING\_HEADER\_MARK}}),}
\DoxyCodeLine{19   \mbox{\hyperlink{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}{m\_prevTime}}(0),}
\DoxyCodeLine{20   \mbox{\hyperlink{classIRReceiver_a45435d3921fa07b89bd46244dd05d860}{m\_pinState}}(0),}
\DoxyCodeLine{21   \mbox{\hyperlink{classIRReceiver_ab7e3d5972a86db3258aa9690a250b1ec}{m\_previousBytes}}(0)}
\DoxyCodeLine{22 \{}
\DoxyCodeLine{23 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classIRReceiver_a79fbe240e7d7627656d71e83d4411104}\label{classIRReceiver_a79fbe240e7d7627656d71e83d4411104}} 
\index{IRReceiver@{IRReceiver}!````~IRReceiver@{$\sim$IRReceiver}}
\index{````~IRReceiver@{$\sim$IRReceiver}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{$\sim$IRReceiver()}{~IRReceiver()}}
{\footnotesize\ttfamily IRReceiver\+::$\sim$\+IRReceiver (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 25 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{26 \{}
\DoxyCodeLine{27 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classIRReceiver_a007b3616b460b97e210c136f429291f4}\label{classIRReceiver_a007b3616b460b97e210c136f429291f4}} 
\index{IRReceiver@{IRReceiver}!beginReceiving@{beginReceiving}}
\index{beginReceiving@{beginReceiving}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{beginReceiving()}{beginReceiving()}}
{\footnotesize\ttfamily bool IRReceiver\+::begin\+Receiving (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 95 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{96 \{}
\DoxyCodeLine{97   \mbox{\hyperlink{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}{resetIRState}}();}
\DoxyCodeLine{98   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{99 \}}

\end{DoxyCode}


References reset\+IRState().



Referenced by Mode\+Sharing\+::begin\+Receiving\+IR().

\mbox{\Hypertarget{classIRReceiver_ae9614c85000fcf5b35dc27747781449b}\label{classIRReceiver_ae9614c85000fcf5b35dc27747781449b}} 
\index{IRReceiver@{IRReceiver}!bytesReceived@{bytesReceived}}
\index{bytesReceived@{bytesReceived}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{bytesReceived()}{bytesReceived()}}
{\footnotesize\ttfamily uint16\+\_\+t IRReceiver\+::bytes\+Received (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 32 of file IRReceiver.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{32 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a6e99106ef46e33b45c8bcd51c0384a3f}{bytepos}}(); \}}

\end{DoxyCode}


References Bit\+Stream\+::bytepos(), and m\+\_\+ir\+Data.



Referenced by on\+New\+Data().

\mbox{\Hypertarget{classIRReceiver_ad2ff2918f176f499520fcc457c56a089}\label{classIRReceiver_ad2ff2918f176f499520fcc457c56a089}} 
\index{IRReceiver@{IRReceiver}!cleanup@{cleanup}}
\index{cleanup@{cleanup}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{cleanup()}{cleanup()}}
{\footnotesize\ttfamily void IRReceiver\+::cleanup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 35 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{36 \{}
\DoxyCodeLine{37 \}}

\end{DoxyCode}


Referenced by Vortex\+Engine\+::cleanup().

\mbox{\Hypertarget{classIRReceiver_a180ea554d40c10a00750aa02c6301c16}\label{classIRReceiver_a180ea554d40c10a00750aa02c6301c16}} 
\index{IRReceiver@{IRReceiver}!dataReady@{dataReady}}
\index{dataReady@{dataReady}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{dataReady()}{dataReady()}}
{\footnotesize\ttfamily bool IRReceiver\+::data\+Ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 39 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{40 \{}
\DoxyCodeLine{41   \textcolor{comment}{// is the receiver actually receiving data?}}
\DoxyCodeLine{42   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classIRReceiver_aa8c42ac4fffc8e534fafd808e4f5b39e}{isReceiving}}()) \{}
\DoxyCodeLine{43     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{44   \}}
\DoxyCodeLine{45   uint8\_t blocks = \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a4be1b1c1cb2684d2997b1c8a6f0cd34d}{data}}()[0];}
\DoxyCodeLine{46   uint8\_t remainder = \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a4be1b1c1cb2684d2997b1c8a6f0cd34d}{data}}()[1];}
\DoxyCodeLine{47   uint32\_t total = ((blocks -\/ 1) * 32) + remainder;}
\DoxyCodeLine{48   \textcolor{keywordflow}{if} (!total || total > \mbox{\hyperlink{IRConfig_8h_a8214fb4810b1ce36ec250940fbf75148}{IR\_MAX\_DATA\_TRANSFER}}) \{}
\DoxyCodeLine{49     \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Bad IR Data size: \%u"{}}, total);}
\DoxyCodeLine{50     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{51   \}}
\DoxyCodeLine{52   \textcolor{comment}{// if there are size + 2 bytes in the IRData receiver}}
\DoxyCodeLine{53   \textcolor{comment}{// then a full message is ready, the + 2 is from the}}
\DoxyCodeLine{54   \textcolor{comment}{// two bytes for blocks + remainder that are sent first}}
\DoxyCodeLine{55   \textcolor{keywordflow}{return} (\mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a6e99106ef46e33b45c8bcd51c0384a3f}{bytepos}}() >= (uint32\_t)(total + 2));}
\DoxyCodeLine{56 \}}

\end{DoxyCode}


References Bit\+Stream\+::bytepos(), Bit\+Stream\+::data(), DEBUG\+\_\+\+LOGF, IR\+\_\+\+MAX\+\_\+\+DATA\+\_\+\+TRANSFER, is\+Receiving(), and m\+\_\+ir\+Data.



Referenced by Mode\+Sharing\+::receive\+Mode\+IR().

\mbox{\Hypertarget{classIRReceiver_aa9d8177899465973e15d78c2795a8b01}\label{classIRReceiver_aa9d8177899465973e15d78c2795a8b01}} 
\index{IRReceiver@{IRReceiver}!endReceiving@{endReceiving}}
\index{endReceiving@{endReceiving}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{endReceiving()}{endReceiving()}}
{\footnotesize\ttfamily bool IRReceiver\+::end\+Receiving (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 101 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{102 \{}
\DoxyCodeLine{103   \mbox{\hyperlink{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}{resetIRState}}();}
\DoxyCodeLine{104   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{105 \}}

\end{DoxyCode}


References reset\+IRState().



Referenced by Mode\+Sharing\+::on\+Short\+Click().

\mbox{\Hypertarget{classIRReceiver_a30e0cdba86a79ce518d642cd9ec1a22e}\label{classIRReceiver_a30e0cdba86a79ce518d642cd9ec1a22e}} 
\index{IRReceiver@{IRReceiver}!handleIRTiming@{handleIRTiming}}
\index{handleIRTiming@{handleIRTiming}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{handleIRTiming()}{handleIRTiming()}}
{\footnotesize\ttfamily void IRReceiver\+::handle\+IRTiming (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{diff }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 165 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{166 \{}
\DoxyCodeLine{167   \textcolor{comment}{// if the diff is too long or too short then it's not useful}}
\DoxyCodeLine{168   \textcolor{keywordflow}{if} ((diff > \mbox{\hyperlink{IRConfig_8h_a8c44cc313efc4b5a8e0d3f60f4ea4116}{IR\_HEADER\_MARK\_MAX}} \&\& \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}} < \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a821fa6d4dd086c1aef792ee19dc9857b}{READING\_DATA\_MARK}}) || diff < \mbox{\hyperlink{IRConfig_8h_a73218da9e787280d69b894953d2d4bdc}{IR\_TIMING\_MIN}}) \{}
\DoxyCodeLine{169     \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}bad delay: \%u, resetting..."{}}, diff);}
\DoxyCodeLine{170     \mbox{\hyperlink{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}{resetIRState}}();}
\DoxyCodeLine{171     \textcolor{keywordflow}{return};}
\DoxyCodeLine{172   \}}
\DoxyCodeLine{173   \textcolor{keywordflow}{switch} (\mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}}) \{}
\DoxyCodeLine{174   \textcolor{keywordflow}{case} \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a86b34ad32b19d88eb7a430935ce098bf}{WAITING\_HEADER\_MARK}}: \textcolor{comment}{// initial state}}
\DoxyCodeLine{175     \textcolor{keywordflow}{if} (diff >= \mbox{\hyperlink{IRConfig_8h_a16e1424faaa05feaa4cd36654ca57fe2}{IR\_HEADER\_MARK\_MIN}} \&\& diff <= \mbox{\hyperlink{IRConfig_8h_a8c44cc313efc4b5a8e0d3f60f4ea4116}{IR\_HEADER\_MARK\_MAX}}) \{}
\DoxyCodeLine{176       \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}} = \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a5d217c890135a690847bf68a1db5bd9a}{WAITING\_HEADER\_SPACE}};}
\DoxyCodeLine{177     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{178       \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Bad header mark \%u, resetting..."{}}, diff);}
\DoxyCodeLine{179       \mbox{\hyperlink{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}{resetIRState}}();}
\DoxyCodeLine{180     \}}
\DoxyCodeLine{181     \textcolor{keywordflow}{break};}
\DoxyCodeLine{182   \textcolor{keywordflow}{case} \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a5d217c890135a690847bf68a1db5bd9a}{WAITING\_HEADER\_SPACE}}:}
\DoxyCodeLine{183     \textcolor{keywordflow}{if} (diff >= \mbox{\hyperlink{IRConfig_8h_a250ce61cfc429f875c14a5d45408d63c}{IR\_HEADER\_SPACE\_MIN}} \&\& diff <= \mbox{\hyperlink{IRConfig_8h_a42938e952fc459aeb8873acf64773150}{IR\_HEADER\_SPACE\_MAX}}) \{}
\DoxyCodeLine{184       \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}} = \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a821fa6d4dd086c1aef792ee19dc9857b}{READING\_DATA\_MARK}};}
\DoxyCodeLine{185     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{186       \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Bad header space \%u, resetting..."{}}, diff);}
\DoxyCodeLine{187       \mbox{\hyperlink{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}{resetIRState}}();}
\DoxyCodeLine{188     \}}
\DoxyCodeLine{189     \textcolor{keywordflow}{break};}
\DoxyCodeLine{190   \textcolor{keywordflow}{case} \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a821fa6d4dd086c1aef792ee19dc9857b}{READING\_DATA\_MARK}}:}
\DoxyCodeLine{191     \textcolor{comment}{// classify mark/space based on the timing and write into buffer}}
\DoxyCodeLine{192     \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a61fad4017cd117aad8c90d91057d2ba3}{write1Bit}}((diff > (\mbox{\hyperlink{IRConfig_8h_a7695385a5a888d20cadfe5bdbb361a93}{IR\_TIMING}} * 2)) ? 1 : 0);}
\DoxyCodeLine{193     \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}} = \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a37b0cc5cf63cb62eb144be82420875f0}{READING\_DATA\_SPACE}};}
\DoxyCodeLine{194     \textcolor{keywordflow}{break};}
\DoxyCodeLine{195   \textcolor{keywordflow}{case} \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a37b0cc5cf63cb62eb144be82420875f0}{READING\_DATA\_SPACE}}:}
\DoxyCodeLine{196     \textcolor{comment}{// the space could be just a regular space, or a gap in between blocks}}
\DoxyCodeLine{197     \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}} = \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a821fa6d4dd086c1aef792ee19dc9857b}{READING\_DATA\_MARK}};}
\DoxyCodeLine{198     \textcolor{keywordflow}{break};}
\DoxyCodeLine{199   \textcolor{keywordflow}{default}: \textcolor{comment}{// ??}}
\DoxyCodeLine{200     \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Bad receive state: \%u"{}}, \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}});}
\DoxyCodeLine{201     \textcolor{keywordflow}{break};}
\DoxyCodeLine{202   \}}
\DoxyCodeLine{203 \}}

\end{DoxyCode}


References DEBUG\+\_\+\+LOGF, IR\+\_\+\+HEADER\+\_\+\+MARK\+\_\+\+MAX, IR\+\_\+\+HEADER\+\_\+\+MARK\+\_\+\+MIN, IR\+\_\+\+HEADER\+\_\+\+SPACE\+\_\+\+MAX, IR\+\_\+\+HEADER\+\_\+\+SPACE\+\_\+\+MIN, IR\+\_\+\+TIMING, IR\+\_\+\+TIMING\+\_\+\+MIN, m\+\_\+ir\+Data, m\+\_\+recv\+State, READING\+\_\+\+DATA\+\_\+\+MARK, READING\+\_\+\+DATA\+\_\+\+SPACE, reset\+IRState(), WAITING\+\_\+\+HEADER\+\_\+\+MARK, WAITING\+\_\+\+HEADER\+\_\+\+SPACE, and Bit\+Stream\+::write1\+Bit().



Referenced by recv\+PCIHandler().

\mbox{\Hypertarget{classIRReceiver_aad4e38923e65bec4c02197c56ec6a4af}\label{classIRReceiver_aad4e38923e65bec4c02197c56ec6a4af}} 
\index{IRReceiver@{IRReceiver}!init@{init}}
\index{init@{init}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily bool IRReceiver\+::init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 29 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{30 \{}
\DoxyCodeLine{31   \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a5b8f42bd95138304249dd9bcd6dcbb2c}{init}}(\mbox{\hyperlink{IRConfig_8h_adb9cd61b2e7cb891d2bb2492608a4555}{IR\_RECV\_BUF\_SIZE}});}
\DoxyCodeLine{32   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{33 \}}

\end{DoxyCode}


References Bit\+Stream\+::init(), IR\+\_\+\+RECV\+\_\+\+BUF\+\_\+\+SIZE, and m\+\_\+ir\+Data.



Referenced by Vortex\+Engine\+::init().

\mbox{\Hypertarget{classIRReceiver_aa8c42ac4fffc8e534fafd808e4f5b39e}\label{classIRReceiver_aa8c42ac4fffc8e534fafd808e4f5b39e}} 
\index{IRReceiver@{IRReceiver}!isReceiving@{isReceiving}}
\index{isReceiving@{isReceiving}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{isReceiving()}{isReceiving()}}
{\footnotesize\ttfamily bool IRReceiver\+::is\+Receiving (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 59 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{60 \{}
\DoxyCodeLine{61   \textcolor{comment}{// if there are at least 2 bytes in the data buffer then}}
\DoxyCodeLine{62   \textcolor{comment}{// the receiver is receiving a packet. If there is less}}
\DoxyCodeLine{63   \textcolor{comment}{// than 2 bytes then we're still waiting for the 'blocks'}}
\DoxyCodeLine{64   \textcolor{comment}{// and 'remainder' bytes which prefix a packet}}
\DoxyCodeLine{65   \textcolor{keywordflow}{return} (\mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a6e99106ef46e33b45c8bcd51c0384a3f}{bytepos}}() > 2);}
\DoxyCodeLine{66 \}}

\end{DoxyCode}


References Bit\+Stream\+::bytepos(), and m\+\_\+ir\+Data.



Referenced by data\+Ready(), percent\+Received(), and Mode\+Sharing\+::show\+Receive\+Mode().

\mbox{\Hypertarget{classIRReceiver_a285e559d21c2a414a9e7169caa9319c3}\label{classIRReceiver_a285e559d21c2a414a9e7169caa9319c3}} 
\index{IRReceiver@{IRReceiver}!onNewData@{onNewData}}
\index{onNewData@{onNewData}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{onNewData()}{onNewData()}}
{\footnotesize\ttfamily bool IRReceiver\+::on\+New\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 107 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{108 \{}
\DoxyCodeLine{109   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classIRReceiver_ae9614c85000fcf5b35dc27747781449b}{bytesReceived}}() == \mbox{\hyperlink{classIRReceiver_ab7e3d5972a86db3258aa9690a250b1ec}{m\_previousBytes}}) \{}
\DoxyCodeLine{110     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{111   \}}
\DoxyCodeLine{112   \mbox{\hyperlink{classIRReceiver_ab7e3d5972a86db3258aa9690a250b1ec}{m\_previousBytes}} = \mbox{\hyperlink{classIRReceiver_ae9614c85000fcf5b35dc27747781449b}{bytesReceived}}();}
\DoxyCodeLine{113   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{114 \}}

\end{DoxyCode}


References bytes\+Received(), and m\+\_\+previous\+Bytes.



Referenced by Mode\+Sharing\+::receive\+Mode\+IR().

\mbox{\Hypertarget{classIRReceiver_ae7f5628b174caf0f8db9be7adc53f287}\label{classIRReceiver_ae7f5628b174caf0f8db9be7adc53f287}} 
\index{IRReceiver@{IRReceiver}!percentReceived@{percentReceived}}
\index{percentReceived@{percentReceived}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{percentReceived()}{percentReceived()}}
{\footnotesize\ttfamily uint8\+\_\+t IRReceiver\+::percent\+Received (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 69 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{70 \{}
\DoxyCodeLine{71   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classIRReceiver_aa8c42ac4fffc8e534fafd808e4f5b39e}{isReceiving}}()) \{}
\DoxyCodeLine{72     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{73   \}}
\DoxyCodeLine{74   uint8\_t blocks = \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a4be1b1c1cb2684d2997b1c8a6f0cd34d}{data}}()[0];}
\DoxyCodeLine{75   uint8\_t remainder = \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a4be1b1c1cb2684d2997b1c8a6f0cd34d}{data}}()[1];}
\DoxyCodeLine{76   uint16\_t total = ((blocks -\/ 1) * 32) + remainder;}
\DoxyCodeLine{77   \textcolor{comment}{// round by adding half of the total to the numerator}}
\DoxyCodeLine{78   \textcolor{keywordflow}{return} (uint8\_t)((uint16\_t)((\mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a6e99106ef46e33b45c8bcd51c0384a3f}{bytepos}}() * 100 + (total / 2)) / total));}
\DoxyCodeLine{79 \}}

\end{DoxyCode}


References Bit\+Stream\+::bytepos(), Bit\+Stream\+::data(), is\+Receiving(), and m\+\_\+ir\+Data.



Referenced by Mode\+Sharing\+::show\+Receive\+Mode().

\mbox{\Hypertarget{classIRReceiver_a5042d1da081da90fb066c9a383b2d40e}\label{classIRReceiver_a5042d1da081da90fb066c9a383b2d40e}} 
\index{IRReceiver@{IRReceiver}!read@{read}}
\index{read@{read}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily bool IRReceiver\+::read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 116 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{117 \{}
\DoxyCodeLine{118   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a6e99106ef46e33b45c8bcd51c0384a3f}{bytepos}}() || \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a6e99106ef46e33b45c8bcd51c0384a3f}{bytepos}}() > \mbox{\hyperlink{IRConfig_8h_a8214fb4810b1ce36ec250940fbf75148}{IR\_MAX\_DATA\_TRANSFER}}) \{}
\DoxyCodeLine{119     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Nothing to read, or read too much"{}});}
\DoxyCodeLine{120     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{121   \}}
\DoxyCodeLine{122   \textcolor{comment}{// read the size out (blocks + remainder)}}
\DoxyCodeLine{123   uint8\_t blocks = \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a4be1b1c1cb2684d2997b1c8a6f0cd34d}{data}}()[0];}
\DoxyCodeLine{124   uint8\_t remainder = \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a4be1b1c1cb2684d2997b1c8a6f0cd34d}{data}}()[1];}
\DoxyCodeLine{125   \textcolor{comment}{// calculate size from blocks + remainder}}
\DoxyCodeLine{126   uint32\_t size = ((blocks -\/ 1) * 32) + remainder;}
\DoxyCodeLine{127   \textcolor{keywordflow}{if} (!size || size > \mbox{\hyperlink{IRConfig_8h_a8214fb4810b1ce36ec250940fbf75148}{IR\_MAX\_DATA\_TRANSFER}}) \{}
\DoxyCodeLine{128     \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Bad IR Data size: \%u"{}}, size);}
\DoxyCodeLine{129     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{130   \}}
\DoxyCodeLine{131   \textcolor{comment}{// the actual data starts 2 bytes later because of the size byte}}
\DoxyCodeLine{132   \textcolor{keyword}{const} uint8\_t *actualData = \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_a4be1b1c1cb2684d2997b1c8a6f0cd34d}{data}}() + 2;}
\DoxyCodeLine{133   \textcolor{keywordflow}{if} (!data.\mbox{\hyperlink{classByteStream_a0f89f3776726a6b70248a901c029a305}{rawInit}}(actualData, size)) \{}
\DoxyCodeLine{134     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Failed to init buffer for IR read"{}});}
\DoxyCodeLine{135     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{136   \}}
\DoxyCodeLine{137   \textcolor{comment}{// reset the IR state and receive buffer now}}
\DoxyCodeLine{138   \mbox{\hyperlink{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}{resetIRState}}();}
\DoxyCodeLine{139   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{140 \}}

\end{DoxyCode}


References Bit\+Stream\+::bytepos(), Bit\+Stream\+::data(), DEBUG\+\_\+\+LOG, DEBUG\+\_\+\+LOGF, IR\+\_\+\+MAX\+\_\+\+DATA\+\_\+\+TRANSFER, m\+\_\+ir\+Data, Byte\+Stream\+::raw\+Init(), and reset\+IRState().



Referenced by receive\+Mode().

\mbox{\Hypertarget{classIRReceiver_a2f61a4167e2ea4d2d10cd81b18b9f3a1}\label{classIRReceiver_a2f61a4167e2ea4d2d10cd81b18b9f3a1}} 
\index{IRReceiver@{IRReceiver}!receiveMode@{receiveMode}}
\index{receiveMode@{receiveMode}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{receiveMode()}{receiveMode()}}
{\footnotesize\ttfamily bool IRReceiver\+::receive\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classMode}{Mode}} $\ast$}]{p\+Mode }\end{DoxyParamCaption})}



Definition at line 81 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{82 \{}
\DoxyCodeLine{83   \mbox{\hyperlink{classByteStream}{ByteStream}} buf;}
\DoxyCodeLine{84   \textcolor{comment}{// read from the receive buffer into the byte stream}}
\DoxyCodeLine{85   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classIRReceiver_a5042d1da081da90fb066c9a383b2d40e}{read}}(buf)) \{}
\DoxyCodeLine{86     \textcolor{comment}{// no data to read right now, or an error}}
\DoxyCodeLine{87     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}No data available to read, or error reading"{}});}
\DoxyCodeLine{88     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{89   \}}
\DoxyCodeLine{90   \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Received \%u bytes"{}}, buf.\mbox{\hyperlink{classByteStream_a755097adde5b21b33d3c4e3623d04f97}{rawSize}}());}
\DoxyCodeLine{91   \textcolor{comment}{// load the data into the target mode}}
\DoxyCodeLine{92   \textcolor{keywordflow}{return} pMode-\/>\mbox{\hyperlink{classMode_a31ed6fbb39ca7876e415fc58bc18d630}{loadFromBuffer}}(buf);}
\DoxyCodeLine{93 \}}

\end{DoxyCode}


References DEBUG\+\_\+\+LOG, DEBUG\+\_\+\+LOGF, Mode\+::load\+From\+Buffer(), Byte\+Stream\+::raw\+Size(), and read().



Referenced by Mode\+Sharing\+::receive\+Mode\+IR().

\mbox{\Hypertarget{classIRReceiver_a47b27e3ab9fca45833d48a4377a3d67d}\label{classIRReceiver_a47b27e3ab9fca45833d48a4377a3d67d}} 
\index{IRReceiver@{IRReceiver}!recvPCIHandler@{recvPCIHandler}}
\index{recvPCIHandler@{recvPCIHandler}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{recvPCIHandler()}{recvPCIHandler()}}
{\footnotesize\ttfamily void IRReceiver\+::recv\+PCIHandler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 143 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{144 \{}
\DoxyCodeLine{145   \textcolor{comment}{// toggle the tracked pin state no matter what}}
\DoxyCodeLine{146   \mbox{\hyperlink{classIRReceiver_a45435d3921fa07b89bd46244dd05d860}{m\_pinState}} = (uint8\_t)!\mbox{\hyperlink{classIRReceiver_a45435d3921fa07b89bd46244dd05d860}{m\_pinState}};}
\DoxyCodeLine{147   \textcolor{comment}{// grab current time}}
\DoxyCodeLine{148   uint32\_t now = \mbox{\hyperlink{classIRReceiver_ab9d155ed84b8b7bed9900d31e8833ae8}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a3f383e032325c07495d21474f497d2f6}{time}}().\mbox{\hyperlink{classTime_ac44f4e49538456714372bb1aad3dd839}{microseconds}}();}
\DoxyCodeLine{149   \textcolor{comment}{// check previous time for validity}}
\DoxyCodeLine{150   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}{m\_prevTime}} || \mbox{\hyperlink{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}{m\_prevTime}} > now) \{}
\DoxyCodeLine{151     \mbox{\hyperlink{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}{m\_prevTime}} = now;}
\DoxyCodeLine{152     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Bad first time diff, resetting..."{}});}
\DoxyCodeLine{153     \mbox{\hyperlink{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}{resetIRState}}();}
\DoxyCodeLine{154     \textcolor{keywordflow}{return};}
\DoxyCodeLine{155   \}}
\DoxyCodeLine{156   \textcolor{comment}{// calc time difference between previous change and now}}
\DoxyCodeLine{157   uint32\_t diff = (uint32\_t)(now -\/ \mbox{\hyperlink{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}{m\_prevTime}});}
\DoxyCodeLine{158   \textcolor{comment}{// and update the previous changetime for next loop}}
\DoxyCodeLine{159   \mbox{\hyperlink{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}{m\_prevTime}} = now;}
\DoxyCodeLine{160   \textcolor{comment}{// handle the blink duration and process it}}
\DoxyCodeLine{161   \mbox{\hyperlink{classIRReceiver_a30e0cdba86a79ce518d642cd9ec1a22e}{handleIRTiming}}(diff);}
\DoxyCodeLine{162 \}}

\end{DoxyCode}


References DEBUG\+\_\+\+LOG, handle\+IRTiming(), m\+\_\+engine, m\+\_\+pin\+State, m\+\_\+prev\+Time, Time\+::microseconds(), reset\+IRState(), and Vortex\+Engine\+::time().

\mbox{\Hypertarget{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}\label{classIRReceiver_a6aa9196cae405f10d68794a6b06f16f3}} 
\index{IRReceiver@{IRReceiver}!resetIRState@{resetIRState}}
\index{resetIRState@{resetIRState}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{resetIRState()}{resetIRState()}}
{\footnotesize\ttfamily void IRReceiver\+::reset\+IRState (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 205 of file IRReceiver.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{206 \{}
\DoxyCodeLine{207   \mbox{\hyperlink{classIRReceiver_ab7e3d5972a86db3258aa9690a250b1ec}{m\_previousBytes}} = 0;}
\DoxyCodeLine{208   \mbox{\hyperlink{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}{m\_recvState}} = \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9a86b34ad32b19d88eb7a430935ce098bf}{WAITING\_HEADER\_MARK}};}
\DoxyCodeLine{209   \textcolor{comment}{// zero out the receive buffer and reset bit receiver position}}
\DoxyCodeLine{210   \mbox{\hyperlink{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}{m\_irData}}.\mbox{\hyperlink{classBitStream_acbce456dc347c721637941fe47f5a43b}{reset}}();}
\DoxyCodeLine{211   \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}IR State Reset"{}});}
\DoxyCodeLine{212 \}}

\end{DoxyCode}


References DEBUG\+\_\+\+LOG, m\+\_\+ir\+Data, m\+\_\+previous\+Bytes, m\+\_\+recv\+State, Bit\+Stream\+::reset(), and WAITING\+\_\+\+HEADER\+\_\+\+MARK.



Referenced by begin\+Receiving(), end\+Receiving(), handle\+IRTiming(), read(), Mode\+Sharing\+::receive\+Mode\+IR(), and recv\+PCIHandler().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classIRReceiver_ab9d155ed84b8b7bed9900d31e8833ae8}\label{classIRReceiver_ab9d155ed84b8b7bed9900d31e8833ae8}} 
\index{IRReceiver@{IRReceiver}!m\_engine@{m\_engine}}
\index{m\_engine@{m\_engine}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{m\_engine}{m\_engine}}
{\footnotesize\ttfamily \mbox{\hyperlink{classVortexEngine}{Vortex\+Engine}}\& IRReceiver\+::m\+\_\+engine\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 47 of file IRReceiver.\+h.



Referenced by recv\+PCIHandler().

\mbox{\Hypertarget{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}\label{classIRReceiver_a9a7477dec95b18157d336b20168c6f7e}} 
\index{IRReceiver@{IRReceiver}!m\_irData@{m\_irData}}
\index{m\_irData@{m\_irData}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{m\_irData}{m\_irData}}
{\footnotesize\ttfamily \mbox{\hyperlink{classBitStream}{Bit\+Stream}} IRReceiver\+::m\+\_\+ir\+Data\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 59 of file IRReceiver.\+h.



Referenced by bytes\+Received(), data\+Ready(), handle\+IRTiming(), init(), is\+Receiving(), percent\+Received(), read(), and reset\+IRState().

\mbox{\Hypertarget{classIRReceiver_a45435d3921fa07b89bd46244dd05d860}\label{classIRReceiver_a45435d3921fa07b89bd46244dd05d860}} 
\index{IRReceiver@{IRReceiver}!m\_pinState@{m\_pinState}}
\index{m\_pinState@{m\_pinState}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{m\_pinState}{m\_pinState}}
{\footnotesize\ttfamily uint8\+\_\+t IRReceiver\+::m\+\_\+pin\+State\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 74 of file IRReceiver.\+h.



Referenced by recv\+PCIHandler().

\mbox{\Hypertarget{classIRReceiver_ab7e3d5972a86db3258aa9690a250b1ec}\label{classIRReceiver_ab7e3d5972a86db3258aa9690a250b1ec}} 
\index{IRReceiver@{IRReceiver}!m\_previousBytes@{m\_previousBytes}}
\index{m\_previousBytes@{m\_previousBytes}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{m\_previousBytes}{m\_previousBytes}}
{\footnotesize\ttfamily uint32\+\_\+t IRReceiver\+::m\+\_\+previous\+Bytes\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 77 of file IRReceiver.\+h.



Referenced by on\+New\+Data(), and reset\+IRState().

\mbox{\Hypertarget{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}\label{classIRReceiver_a6c30fb550f53a38e1fa7b6a7d3ecb2d5}} 
\index{IRReceiver@{IRReceiver}!m\_prevTime@{m\_prevTime}}
\index{m\_prevTime@{m\_prevTime}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{m\_prevTime}{m\_prevTime}}
{\footnotesize\ttfamily uint32\+\_\+t IRReceiver\+::m\+\_\+prev\+Time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 73 of file IRReceiver.\+h.



Referenced by recv\+PCIHandler().

\mbox{\Hypertarget{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}\label{classIRReceiver_a4c3e0d07c9f2e02d227cc94f60bdc873}} 
\index{IRReceiver@{IRReceiver}!m\_recvState@{m\_recvState}}
\index{m\_recvState@{m\_recvState}!IRReceiver@{IRReceiver}}
\doxysubsubsection{\texorpdfstring{m\_recvState}{m\_recvState}}
{\footnotesize\ttfamily \mbox{\hyperlink{classIRReceiver_a56148488dd4f2a403202a0467b4940b9}{Recv\+State}} IRReceiver\+::m\+\_\+recv\+State\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 71 of file IRReceiver.\+h.



Referenced by handle\+IRTiming(), and reset\+IRState().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Vortex\+Engine/src/\+Wireless/\mbox{\hyperlink{IRReceiver_8h}{IRReceiver.\+h}}\item 
Vortex\+Engine/src/\+Wireless/\mbox{\hyperlink{IRReceiver_8cpp}{IRReceiver.\+cpp}}\end{DoxyCompactItemize}
