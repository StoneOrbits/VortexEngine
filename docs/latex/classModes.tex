\hypertarget{classModes}{}\doxysection{Modes Class Reference}
\label{classModes}\index{Modes@{Modes}}


{\ttfamily \#include $<$Modes.\+h$>$}



Collaboration diagram for Modes\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classModes__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classModes_1_1ModeLink}{Mode\+Link}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classModes_a78bf62dce4a1d8bd17b369d5f034514c}{Modes}} (\mbox{\hyperlink{classVortexEngine}{Vortex\+Engine}} \&engine)
\item 
\mbox{\hyperlink{classModes_ac1613c43ab9f2154dd4cf9bdb8c43d83}{$\sim$\+Modes}} ()
\item 
bool \mbox{\hyperlink{classModes_a8b920de981d96ca9365b766a3f59fb73}{init}} ()
\item 
void \mbox{\hyperlink{classModes_aa16cf03f84bc5d911d220580ba3aeb7a}{cleanup}} ()
\item 
bool \mbox{\hyperlink{classModes_a4d97b331857953933fe45825cdef1d3a}{load}} ()
\item 
void \mbox{\hyperlink{classModes_a9e98b568fcd3d00b7c3f0705b5120925}{play}} ()
\item 
bool \mbox{\hyperlink{classModes_a9b64018ed3d72c3667f0eaef5fd6495f}{save\+To\+Buffer}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&save\+Buffer)
\item 
bool \mbox{\hyperlink{classModes_a7a8e136c877b6cb04ac31a37020b89e6}{load\+From\+Buffer}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&save\+Buffer)
\item 
bool \mbox{\hyperlink{classModes_ade2a9cca4ba60327352111a369c28a15}{save\+Header}} ()
\item 
bool \mbox{\hyperlink{classModes_a0f730af197520f0c74c227187fbbfbd7}{load\+Header}} ()
\item 
bool \mbox{\hyperlink{classModes_a1756081ee85dbcf672ddad5a3dcb4690}{save\+Storage}} ()
\item 
bool \mbox{\hyperlink{classModes_ae086d04e395dc7e37a456fd095c42ad9}{load\+Storage}} ()
\item 
bool \mbox{\hyperlink{classModes_a4432825def9ab0a3edb0c480e21c14e1}{serialize\+Save\+Header}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&save\+Buffer)
\item 
bool \mbox{\hyperlink{classModes_a0e4a896bf673ecc51bf52f3efabf8aca}{unserialize\+Save\+Header}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&save\+Buffer)
\item 
bool \mbox{\hyperlink{classModes_afb881f5315e4197bb01625b1268eca9d}{serialize}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&buffer)
\item 
bool \mbox{\hyperlink{classModes_ae5c68f28c424a2a08ba659e9373898e3}{unserialize}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&buffer)
\item 
bool \mbox{\hyperlink{classModes_a790f299aa425bdc73af7f584ee30472b}{set\+Defaults}} ()
\item 
bool \mbox{\hyperlink{classModes_a7cb704d905f26b1d1e9e748c87b547a1}{shift\+Cur\+Mode}} (int32\+\_\+t offset=1)
\item 
bool \mbox{\hyperlink{classModes_a5437bef398769cbfc12e847c7e488bed}{add\+Mode}} (\mbox{\hyperlink{Patterns_8h_a40b65bd8b307c1134edfc6b99c16cd8c}{Pattern\+ID}} id, \mbox{\hyperlink{classRGBColor}{RGBColor}} c1, \mbox{\hyperlink{classRGBColor}{RGBColor}} c2=\mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}, \mbox{\hyperlink{classRGBColor}{RGBColor}} c3=\mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}, \mbox{\hyperlink{classRGBColor}{RGBColor}} c4=\mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}, \mbox{\hyperlink{classRGBColor}{RGBColor}} c5=\mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}, \mbox{\hyperlink{classRGBColor}{RGBColor}} c6=\mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}, \mbox{\hyperlink{classRGBColor}{RGBColor}} c7=\mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}, \mbox{\hyperlink{classRGBColor}{RGBColor}} c8=\mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}})
\item 
bool \mbox{\hyperlink{classModes_ad6049bf91c68fcd582632e67738fb3dc}{add\+Mode}} (\mbox{\hyperlink{Patterns_8h_a40b65bd8b307c1134edfc6b99c16cd8c}{Pattern\+ID}} id, const \mbox{\hyperlink{classPatternArgs}{Pattern\+Args}} $\ast$args, const \mbox{\hyperlink{classColorset}{Colorset}} $\ast$set)
\item 
bool \mbox{\hyperlink{classModes_a186f0ff8fd3ca5c371a254b4725b401e}{add\+Mode}} (const \mbox{\hyperlink{classMode}{Mode}} $\ast$mode)
\item 
bool \mbox{\hyperlink{classModes_a26c54d5906a00353965d679e7f0a63a6}{add\+Serialized\+Mode}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&serialized\+Mode)
\item 
bool \mbox{\hyperlink{classModes_a31830ee4f7ac55519bc385e4491a0513}{add\+Mode\+From\+Buffer}} (\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&serialized\+Mode)
\item 
bool \mbox{\hyperlink{classModes_a263cf02fb83d954b91c85d2d1e5411ee}{update\+Cur\+Mode}} (const \mbox{\hyperlink{classMode}{Mode}} $\ast$mode)
\item 
\mbox{\hyperlink{classMode}{Mode}} $\ast$ \mbox{\hyperlink{classModes_a65f088d9076706c4976f7282be323e50}{set\+Cur\+Mode}} (uint8\+\_\+t index)
\item 
\mbox{\hyperlink{classMode}{Mode}} $\ast$ \mbox{\hyperlink{classModes_a1e520dc2ee457bc93a795e9945249dbd}{cur\+Mode}} ()
\item 
\mbox{\hyperlink{classMode}{Mode}} $\ast$ \mbox{\hyperlink{classModes_ac9a4c95f7e899dc2732f65ebe78559c2}{next\+Mode}} ()
\item 
\mbox{\hyperlink{classMode}{Mode}} $\ast$ \mbox{\hyperlink{classModes_afff6da06a409164e2d5241e825d88dd2}{previous\+Mode}} ()
\item 
bool \mbox{\hyperlink{classModes_a3d8e465bd446d7f52562e0872501298d}{cur\+Mode\+Instantiated}} ()
\item 
\mbox{\hyperlink{classMode}{Mode}} $\ast$ \mbox{\hyperlink{classModes_a70c51e7490681e5ee6a6e6d8084b8fc4}{next\+Mode\+Skip\+Empty}} ()
\item 
uint8\+\_\+t \mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{num\+Modes}} ()
\item 
uint8\+\_\+t \mbox{\hyperlink{classModes_a6e0cd170d30903d763863663c245987c}{cur\+Mode\+Index}} ()
\item 
uint32\+\_\+t \mbox{\hyperlink{classModes_aa78ae50e4e3b3ed39d1c889c16e56e75}{last\+Switch\+Time}} ()
\item 
void \mbox{\hyperlink{classModes_a0d8e74c4fa7fff65fdf81336b3b808b9}{delete\+Cur\+Mode}} ()
\item 
void \mbox{\hyperlink{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}{clear\+Modes}} ()
\item 
void \mbox{\hyperlink{classModes_a86dc60444399ab04d49f77935f68e8dd}{set\+Startup\+Mode}} (uint8\+\_\+t index)
\item 
uint8\+\_\+t \mbox{\hyperlink{classModes_a354ffb53eeff1a351ef81ce55eae472a}{startup\+Mode}} ()
\item 
\mbox{\hyperlink{classMode}{Mode}} $\ast$ \mbox{\hyperlink{classModes_af364c05c80262b084d6150346564721d}{switch\+To\+Startup\+Mode}} ()
\item 
\mbox{\hyperlink{classMode}{Mode}} $\ast$ \mbox{\hyperlink{classModes_a80610d5cba52a7faa04868e5062b38dc}{init\+Cur\+Mode}} (bool force=false)
\item 
bool \mbox{\hyperlink{classModes_a1cb4d9f5f52072994532cf62585a2719}{save\+Cur\+Mode}} ()
\item 
bool \mbox{\hyperlink{classModes_af6820eafbbb127aeec832813dd7685dc}{set\+Flag}} (uint8\+\_\+t flag, bool enable, bool save=true)
\item 
bool \mbox{\hyperlink{classModes_a2e72728467bf8a8ffc771be4c49f7b37}{get\+Flag}} (uint8\+\_\+t flag)
\item 
void \mbox{\hyperlink{classModes_a44f9cbf145f712a8ca50980a084809ca}{reset\+Flags}} ()
\item 
bool \mbox{\hyperlink{classModes_a6e48b3cd5cad301c0af30ce2f034478c}{set\+One\+Click\+Mode}} (bool enable, bool save=true)
\item 
bool \mbox{\hyperlink{classModes_a9bfee0b43e6826895e451e9f37ada149}{one\+Click\+Mode\+Enabled}} ()
\item 
bool \mbox{\hyperlink{classModes_acbeb86757b46232d0f0c6dcdef755046}{set\+Locked}} (bool \mbox{\hyperlink{classModes_a02a1ac5ad4458011fb2dfe66920fd2c3}{locked}}, bool save=true)
\item 
bool \mbox{\hyperlink{classModes_a02a1ac5ad4458011fb2dfe66920fd2c3}{locked}} ()
\item 
bool \mbox{\hyperlink{classModes_aa4e0e3a22d95b7d23c939bf620c41727}{set\+Advanced\+Menus}} (bool active, bool save=true)
\item 
bool \mbox{\hyperlink{classModes_a244268e51515a37153cd191b77e49bd6}{advanced\+Menus\+Enabled}} ()
\item 
bool \mbox{\hyperlink{classModes_affcfb49e44287fe547660d36eb16e56b}{set\+Keychain\+Mode}} (bool active, bool save=true)
\item 
bool \mbox{\hyperlink{classModes_a6d2aeb9b9b49c5bae769c146d3e7b977}{keychain\+Mode\+Enabled}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classModes_1_1ModeLink}{Mode\+Link}} $\ast$ \mbox{\hyperlink{classModes_a25f0e61bb0ff6ebc3d27b862b7b83838}{get\+Mode\+Link}} (uint32\+\_\+t index)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classVortexEngine}{Vortex\+Engine}} \& \mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\+\_\+engine}}
\item 
bool \mbox{\hyperlink{classModes_afacf83dda468e498a781439c5b963520}{m\+\_\+loaded}}
\item 
uint8\+\_\+t \mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\+\_\+cur\+Mode}}
\item 
uint8\+\_\+t \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\+\_\+num\+Modes}}
\item 
\mbox{\hyperlink{classModes_1_1ModeLink}{Mode\+Link}} $\ast$ \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\+\_\+p\+Cur\+Mode\+Link}}
\item 
\mbox{\hyperlink{classModes_1_1ModeLink}{Mode\+Link}} $\ast$ \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\+\_\+stored\+Modes}}
\item 
uint8\+\_\+t \mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\+\_\+global\+Flags}}
\item 
uint32\+\_\+t \mbox{\hyperlink{classModes_aa7443de0e5c4aa84bbef7c7691876c5c}{m\+\_\+last\+Switch\+Time}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 29 of file Modes.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classModes_a78bf62dce4a1d8bd17b369d5f034514c}\label{classModes_a78bf62dce4a1d8bd17b369d5f034514c}} 
\index{Modes@{Modes}!Modes@{Modes}}
\index{Modes@{Modes}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{Modes()}{Modes()}}
{\footnotesize\ttfamily Modes\+::\+Modes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classVortexEngine}{Vortex\+Engine}} \&}]{engine }\end{DoxyParamCaption})}



Definition at line 18 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{18                                  :}
\DoxyCodeLine{19   \mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}(engine),}
\DoxyCodeLine{20   \mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}}(0),}
\DoxyCodeLine{21   \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}(0),}
\DoxyCodeLine{22   \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}(\textcolor{keyword}{nullptr}),}
\DoxyCodeLine{23   \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}(\textcolor{keyword}{nullptr}),}
\DoxyCodeLine{24   \mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}}(0),}
\DoxyCodeLine{25   \mbox{\hyperlink{classModes_aa7443de0e5c4aa84bbef7c7691876c5c}{m\_lastSwitchTime}}(0)}
\DoxyCodeLine{26 \{}
\DoxyCodeLine{27 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classModes_ac1613c43ab9f2154dd4cf9bdb8c43d83}\label{classModes_ac1613c43ab9f2154dd4cf9bdb8c43d83}} 
\index{Modes@{Modes}!````~Modes@{$\sim$Modes}}
\index{````~Modes@{$\sim$Modes}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{$\sim$Modes()}{~Modes()}}
{\footnotesize\ttfamily Modes\+::$\sim$\+Modes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 28 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{29 \{}
\DoxyCodeLine{30 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classModes_a186f0ff8fd3ca5c371a254b4725b401e}\label{classModes_a186f0ff8fd3ca5c371a254b4725b401e}} 
\index{Modes@{Modes}!addMode@{addMode}}
\index{addMode@{addMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{addMode()}{addMode()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily bool Modes\+::add\+Mode (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classMode}{Mode}} $\ast$}]{mode }\end{DoxyParamCaption})}



Definition at line 507 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{508 \{}
\DoxyCodeLine{509 \textcolor{preprocessor}{\#if MAX\_MODES != 0}}
\DoxyCodeLine{510   \textcolor{comment}{// max modes}}
\DoxyCodeLine{511   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} >= \mbox{\hyperlink{VortexConfig_8h_a95b270e9c99aea216b47fd1e95b2cf34}{MAX\_MODES}}) \{}
\DoxyCodeLine{512     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{513   \}}
\DoxyCodeLine{514 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{515   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}) \{}
\DoxyCodeLine{516     \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}} = \textcolor{keyword}{new} ModeLink(\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}, mode);}
\DoxyCodeLine{517     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}) \{}
\DoxyCodeLine{518       \mbox{\hyperlink{Log_8h_a804825e040f1cce9e3d2bb53c4858710}{ERROR\_OUT\_OF\_MEMORY}}();}
\DoxyCodeLine{519       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{520     \}}
\DoxyCodeLine{521   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{522     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a08bc79fa1ef91ebb64762d546b3b62dc}{append}}(mode)) \{}
\DoxyCodeLine{523       \mbox{\hyperlink{Log_8h_a804825e040f1cce9e3d2bb53c4858710}{ERROR\_OUT\_OF\_MEMORY}}();}
\DoxyCodeLine{524       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{525     \}}
\DoxyCodeLine{526   \}}
\DoxyCodeLine{527   \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}++;}
\DoxyCodeLine{528   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{529 \}}

\end{DoxyCode}


References Modes\+::\+Mode\+Link\+::append(), ERROR\+\_\+\+OUT\+\_\+\+OF\+\_\+\+MEMORY, m\+\_\+engine, m\+\_\+num\+Modes, m\+\_\+stored\+Modes, and MAX\+\_\+\+MODES.

\mbox{\Hypertarget{classModes_ad6049bf91c68fcd582632e67738fb3dc}\label{classModes_ad6049bf91c68fcd582632e67738fb3dc}} 
\index{Modes@{Modes}!addMode@{addMode}}
\index{addMode@{addMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{addMode()}{addMode()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily bool Modes\+::add\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{Patterns_8h_a40b65bd8b307c1134edfc6b99c16cd8c}{Pattern\+ID}}}]{id,  }\item[{const \mbox{\hyperlink{classPatternArgs}{Pattern\+Args}} $\ast$}]{args,  }\item[{const \mbox{\hyperlink{classColorset}{Colorset}} $\ast$}]{set }\end{DoxyParamCaption})}



Definition at line 488 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{489 \{}
\DoxyCodeLine{490   \textcolor{comment}{// max modes}}
\DoxyCodeLine{491 \textcolor{preprocessor}{\#if MAX\_MODES != 0}}
\DoxyCodeLine{492   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} >= \mbox{\hyperlink{VortexConfig_8h_a95b270e9c99aea216b47fd1e95b2cf34}{MAX\_MODES}}) \{}
\DoxyCodeLine{493     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{494   \}}
\DoxyCodeLine{495 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{496   \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} >= \mbox{\hyperlink{Patterns_8h_a40b65bd8b307c1134edfc6b99c16cd8ca4276a1b6c1d1dfbda21baa8bfda0584c}{PATTERN\_COUNT}}) \{}
\DoxyCodeLine{497     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{498   \}}
\DoxyCodeLine{499   \mbox{\hyperlink{classMode}{Mode}} tmpMode(\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}, \textcolor{keywordtype}{id}, args, set);}
\DoxyCodeLine{500   \textcolor{comment}{// must init the mode so that it can be serialized}}
\DoxyCodeLine{501   tmpMode.init();}
\DoxyCodeLine{502   \textcolor{comment}{// not a very good way to do this but it ensures the mode is}}
\DoxyCodeLine{503   \textcolor{comment}{// added in the same way}}
\DoxyCodeLine{504   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a5437bef398769cbfc12e847c7e488bed}{addMode}}(\&tmpMode);}
\DoxyCodeLine{505 \}}

\end{DoxyCode}


References add\+Mode(), Mode\+::init(), m\+\_\+engine, m\+\_\+num\+Modes, MAX\+\_\+\+MODES, and PATTERN\+\_\+\+COUNT.

\mbox{\Hypertarget{classModes_a5437bef398769cbfc12e847c7e488bed}\label{classModes_a5437bef398769cbfc12e847c7e488bed}} 
\index{Modes@{Modes}!addMode@{addMode}}
\index{addMode@{addMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{addMode()}{addMode()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily bool Modes\+::add\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{Patterns_8h_a40b65bd8b307c1134edfc6b99c16cd8c}{Pattern\+ID}}}]{id,  }\item[{\mbox{\hyperlink{classRGBColor}{RGBColor}}}]{c1,  }\item[{\mbox{\hyperlink{classRGBColor}{RGBColor}}}]{c2 = {\ttfamily \mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}},  }\item[{\mbox{\hyperlink{classRGBColor}{RGBColor}}}]{c3 = {\ttfamily \mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}},  }\item[{\mbox{\hyperlink{classRGBColor}{RGBColor}}}]{c4 = {\ttfamily \mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}},  }\item[{\mbox{\hyperlink{classRGBColor}{RGBColor}}}]{c5 = {\ttfamily \mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}},  }\item[{\mbox{\hyperlink{classRGBColor}{RGBColor}}}]{c6 = {\ttfamily \mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}},  }\item[{\mbox{\hyperlink{classRGBColor}{RGBColor}}}]{c7 = {\ttfamily \mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}},  }\item[{\mbox{\hyperlink{classRGBColor}{RGBColor}}}]{c8 = {\ttfamily \mbox{\hyperlink{ColorConstants_8h_a143edb2a30dcec26a3ec0a41d1082010}{RGB\+\_\+\+OFF}}} }\end{DoxyParamCaption})}



Definition at line 481 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{483 \{}
\DoxyCodeLine{484   \mbox{\hyperlink{classColorset}{Colorset}} set(c1, c2, c3, c4, c5, c6, c7, c8);}
\DoxyCodeLine{485   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a5437bef398769cbfc12e847c7e488bed}{addMode}}(\textcolor{keywordtype}{id}, \textcolor{keyword}{nullptr}, \&set);}
\DoxyCodeLine{486 \}}

\end{DoxyCode}


Referenced by Vortex\+::add\+Mode(), add\+Mode(), Vortex\+::add\+New\+Mode(), add\+Serialized\+Mode(), Menu\+::init(), Vortex\+::load\+Mode\+From\+Json(), and set\+Defaults().

\mbox{\Hypertarget{classModes_a31830ee4f7ac55519bc385e4491a0513}\label{classModes_a31830ee4f7ac55519bc385e4491a0513}} 
\index{Modes@{Modes}!addModeFromBuffer@{addModeFromBuffer}}
\index{addModeFromBuffer@{addModeFromBuffer}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{addModeFromBuffer()}{addModeFromBuffer()}}
{\footnotesize\ttfamily bool Modes\+::add\+Mode\+From\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{serialized\+Mode }\end{DoxyParamCaption})}



Definition at line 416 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{417 \{}
\DoxyCodeLine{418 \textcolor{preprocessor}{\#if MAX\_MODES != 0}}
\DoxyCodeLine{419   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} >= \mbox{\hyperlink{VortexConfig_8h_a95b270e9c99aea216b47fd1e95b2cf34}{MAX\_MODES}}) \{}
\DoxyCodeLine{420     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{421   \}}
\DoxyCodeLine{422 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{423   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}) \{}
\DoxyCodeLine{424     \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}} = \textcolor{keyword}{new} ModeLink(\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}, serializedMode);}
\DoxyCodeLine{425     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}) \{}
\DoxyCodeLine{426       \mbox{\hyperlink{Log_8h_a804825e040f1cce9e3d2bb53c4858710}{ERROR\_OUT\_OF\_MEMORY}}();}
\DoxyCodeLine{427       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{428     \}}
\DoxyCodeLine{429   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{430     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a08bc79fa1ef91ebb64762d546b3b62dc}{append}}(serializedMode)) \{}
\DoxyCodeLine{431       \mbox{\hyperlink{Log_8h_a804825e040f1cce9e3d2bb53c4858710}{ERROR\_OUT\_OF\_MEMORY}}();}
\DoxyCodeLine{432       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{433     \}}
\DoxyCodeLine{434   \}}
\DoxyCodeLine{435   \textcolor{comment}{// increment mode counter}}
\DoxyCodeLine{436   \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}++;}
\DoxyCodeLine{437   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{438 \}}

\end{DoxyCode}


References Modes\+::\+Mode\+Link\+::append(), ERROR\+\_\+\+OUT\+\_\+\+OF\+\_\+\+MEMORY, m\+\_\+engine, m\+\_\+num\+Modes, m\+\_\+stored\+Modes, and MAX\+\_\+\+MODES.



Referenced by Vortex\+::add\+New\+Mode().

\mbox{\Hypertarget{classModes_a26c54d5906a00353965d679e7f0a63a6}\label{classModes_a26c54d5906a00353965d679e7f0a63a6}} 
\index{Modes@{Modes}!addSerializedMode@{addSerializedMode}}
\index{addSerializedMode@{addSerializedMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{addSerializedMode()}{addSerializedMode()}}
{\footnotesize\ttfamily bool Modes\+::add\+Serialized\+Mode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{serialized\+Mode }\end{DoxyParamCaption})}



Definition at line 396 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{397 \{}
\DoxyCodeLine{398 \textcolor{preprocessor}{\#if MAX\_MODES != 0}}
\DoxyCodeLine{399   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} >= \mbox{\hyperlink{VortexConfig_8h_a95b270e9c99aea216b47fd1e95b2cf34}{MAX\_MODES}}) \{}
\DoxyCodeLine{400     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{401   \}}
\DoxyCodeLine{402 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{403   \textcolor{comment}{// we must unserialize then re-\/serialize here because the}}
\DoxyCodeLine{404   \textcolor{comment}{// input argument may contain other patterns in the buffer}}
\DoxyCodeLine{405   \textcolor{comment}{// so we cannot just append the input arg to m\_storedModes}}
\DoxyCodeLine{406   \mbox{\hyperlink{classMode}{Mode}} tmpMode(\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}});}
\DoxyCodeLine{407   \textcolor{keywordflow}{if} (!tmpMode.unserialize(serializedMode)) \{}
\DoxyCodeLine{408     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{409   \}}
\DoxyCodeLine{410   \textcolor{comment}{// initialize the mode because a pattern could theoretically serialize}}
\DoxyCodeLine{411   \textcolor{comment}{// differently after it has initialized}}
\DoxyCodeLine{412   tmpMode.init();}
\DoxyCodeLine{413   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a5437bef398769cbfc12e847c7e488bed}{addMode}}(\&tmpMode);}
\DoxyCodeLine{414 \}}

\end{DoxyCode}


References add\+Mode(), Mode\+::init(), m\+\_\+engine, m\+\_\+num\+Modes, MAX\+\_\+\+MODES, and Mode\+::unserialize().



Referenced by load\+Storage(), and unserialize().

\mbox{\Hypertarget{classModes_a244268e51515a37153cd191b77e49bd6}\label{classModes_a244268e51515a37153cd191b77e49bd6}} 
\index{Modes@{Modes}!advancedMenusEnabled@{advancedMenusEnabled}}
\index{advancedMenusEnabled@{advancedMenusEnabled}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{advancedMenusEnabled()}{advancedMenusEnabled()}}
{\footnotesize\ttfamily bool Modes\+::advanced\+Menus\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 155 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{155                               \{}
\DoxyCodeLine{156     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a2e72728467bf8a8ffc771be4c49f7b37}{getFlag}}(\mbox{\hyperlink{Modes_8h_acbee0408043778c71f933ce9b402bdfb}{MODES\_FLAG\_ADV\_MENUS}});}
\DoxyCodeLine{157   \}}

\end{DoxyCode}


References get\+Flag(), and MODES\+\_\+\+FLAG\+\_\+\+ADV\+\_\+\+MENUS.



Referenced by Menus\+::run\+Menu\+Selection().

\mbox{\Hypertarget{classModes_aa16cf03f84bc5d911d220580ba3aeb7a}\label{classModes_aa16cf03f84bc5d911d220580ba3aeb7a}} 
\index{Modes@{Modes}!cleanup@{cleanup}}
\index{cleanup@{cleanup}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{cleanup()}{cleanup()}}
{\footnotesize\ttfamily void Modes\+::cleanup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 50 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{51 \{}
\DoxyCodeLine{52   \mbox{\hyperlink{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}{clearModes}}();}
\DoxyCodeLine{53 \}}

\end{DoxyCode}


References clear\+Modes().



Referenced by Vortex\+Engine\+::cleanup().

\mbox{\Hypertarget{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}\label{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}} 
\index{Modes@{Modes}!clearModes@{clearModes}}
\index{clearModes@{clearModes}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{clearModes()}{clearModes()}}
{\footnotesize\ttfamily void Modes\+::clear\+Modes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 661 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{662 \{}
\DoxyCodeLine{663   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} || !\mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}) \{}
\DoxyCodeLine{664     \textcolor{keywordflow}{return};}
\DoxyCodeLine{665   \}}
\DoxyCodeLine{666   \textcolor{comment}{// delete the first node and it will delete the entire chain}}
\DoxyCodeLine{667   \textcolor{keyword}{delete} \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}};}
\DoxyCodeLine{668   \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{669   \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{670   \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} = 0;}
\DoxyCodeLine{671   \textcolor{comment}{// might as well clear the leds}}
\DoxyCodeLine{672   \mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a6db4e68fe048d9ff0fbb15cc126f28fb}{leds}}().\mbox{\hyperlink{classLeds_ab61ea9a22bd6618c7b7aa6cb34d27c1d}{clearAll}}();}
\DoxyCodeLine{673 \}}

\end{DoxyCode}


References Leds\+::clear\+All(), Vortex\+Engine\+::leds(), m\+\_\+engine, m\+\_\+num\+Modes, m\+\_\+p\+Cur\+Mode\+Link, and m\+\_\+stored\+Modes.



Referenced by cleanup(), Vortex\+CLI\+::init(), Vortex\+::load\+From\+Json(), load\+Header(), load\+Storage(), set\+Defaults(), Vortex\+::set\+Modes(), and unserialize().

\mbox{\Hypertarget{classModes_a1e520dc2ee457bc93a795e9945249dbd}\label{classModes_a1e520dc2ee457bc93a795e9945249dbd}} 
\index{Modes@{Modes}!curMode@{curMode}}
\index{curMode@{curMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{curMode()}{curMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMode}{Mode}} $\ast$ Modes\+::cur\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 591 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{592 \{}
\DoxyCodeLine{593   \textcolor{comment}{// empty mode list}}
\DoxyCodeLine{594   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{595     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{596   \}}
\DoxyCodeLine{597   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}) \{}
\DoxyCodeLine{598     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a80610d5cba52a7faa04868e5062b38dc}{initCurMode}}()) \{}
\DoxyCodeLine{599       \mbox{\hyperlink{Log_8h_aa12d9b2ced7332bfbb9391da9617561a}{ERROR\_LOG}}(\textcolor{stringliteral}{"{}Failed to initialize current mode"{}});}
\DoxyCodeLine{600       \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{601     \}}
\DoxyCodeLine{602   \}}
\DoxyCodeLine{603   \textcolor{comment}{// get current mode, instantiate it if necessary}}
\DoxyCodeLine{604   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a284ba1b2ca41f96524480a96128fc113}{instantiate}}();}
\DoxyCodeLine{605 \}}

\end{DoxyCode}


References ERROR\+\_\+\+LOG, init\+Cur\+Mode(), Modes\+::\+Mode\+Link\+::instantiate(), m\+\_\+num\+Modes, and m\+\_\+p\+Cur\+Mode\+Link.



Referenced by Mode\+Sharing\+::begin\+Sending\+IR(), Mode\+Sharing\+::begin\+Sending\+VL(), Vortex\+::check\+Led\+Count(), Vortex\+Engine\+::cur\+Mode(), Vortex\+::get\+Colorset(), Vortex\+::get\+Cur\+Mode(), Vortex\+::get\+Mode\+Name(), Vortex\+::get\+Pattern\+Args(), Vortex\+::get\+Pattern\+ID(), Menu\+::init(), Color\+Select\+::init(), Factory\+Reset\+::init(), Randomizer\+::init(), Vortex\+::is\+Cur\+Mode\+Multi(), Menu\+::next\+Bulb\+Selection(), next\+Mode\+Skip\+Empty(), Vortex\+::num\+Leds\+In\+Mode(), Color\+Select\+::on\+Led\+Selected(), Color\+Select\+::on\+Long\+Click(), Factory\+Reset\+::on\+Long\+Click(), Vortex\+::parse\+Pattern\+Json(), Vortex\+::print\+Mode\+Json(), Vortex\+::print\+Pattern\+Json(), Vortex\+::save\+Mode\+To\+Json(), Vortex\+::set\+Colorset(), Vortex\+::set\+Led\+Count(), Vortex\+::set\+Pattern(), Vortex\+::set\+Pattern\+Args(), Vortex\+::set\+Pattern\+At(), and update\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a6e0cd170d30903d763863663c245987c}\label{classModes_a6e0cd170d30903d763863663c245987c}} 
\index{Modes@{Modes}!curModeIndex@{curModeIndex}}
\index{curModeIndex@{curModeIndex}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{curModeIndex()}{curModeIndex()}}
{\footnotesize\ttfamily uint8\+\_\+t Modes\+::cur\+Mode\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 110 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{110 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}}; \}}

\end{DoxyCode}


References m\+\_\+cur\+Mode.



Referenced by Vortex\+::cur\+Mode\+Index(), Vortex\+Engine\+::enter\+Sleep(), and Factory\+Reset\+::on\+Long\+Click().

\mbox{\Hypertarget{classModes_a3d8e465bd446d7f52562e0872501298d}\label{classModes_a3d8e465bd446d7f52562e0872501298d}} 
\index{Modes@{Modes}!curModeInstantiated@{curModeInstantiated}}
\index{curModeInstantiated@{curModeInstantiated}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{curModeInstantiated()}{curModeInstantiated()}}
{\footnotesize\ttfamily bool Modes\+::cur\+Mode\+Instantiated (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 102 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{102 \{ \textcolor{keywordflow}{return} (\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}} \&\& \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_aa92272ee4453ff8a3ea268b0e5f1d03c}{mode}}() != \textcolor{keyword}{nullptr}); \}}

\end{DoxyCode}


References m\+\_\+p\+Cur\+Mode\+Link, and Modes\+::\+Mode\+Link\+::mode().



Referenced by Vortex\+::set\+Led\+Count().

\mbox{\Hypertarget{classModes_a0d8e74c4fa7fff65fdf81336b3b808b9}\label{classModes_a0d8e74c4fa7fff65fdf81336b3b808b9}} 
\index{Modes@{Modes}!deleteCurMode@{deleteCurMode}}
\index{deleteCurMode@{deleteCurMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{deleteCurMode()}{deleteCurMode()}}
{\footnotesize\ttfamily void Modes\+::delete\+Cur\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 640 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{641 \{}
\DoxyCodeLine{642   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} || !\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}) \{}
\DoxyCodeLine{643     \textcolor{keywordflow}{return};}
\DoxyCodeLine{644   \}}
\DoxyCodeLine{645   \textcolor{comment}{// unlink the current mode so it can be deleted and}}
\DoxyCodeLine{646   \textcolor{comment}{// update the current mode link accordingly}}
\DoxyCodeLine{647   ModeLink *newCur = \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a795d5e69c097cc96b0db26f55415bb51}{unlinkSelf}}();}
\DoxyCodeLine{648   \textcolor{keyword}{delete} \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}};}
\DoxyCodeLine{649   \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}} = newCur;}
\DoxyCodeLine{650   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}}) \{}
\DoxyCodeLine{651     \mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}}-\/-\/;}
\DoxyCodeLine{652   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{653     \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}} = \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}};}
\DoxyCodeLine{654   \}}
\DoxyCodeLine{655   \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}-\/-\/;}
\DoxyCodeLine{656   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{657     \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{658   \}}
\DoxyCodeLine{659 \}}

\end{DoxyCode}


References m\+\_\+cur\+Mode, m\+\_\+num\+Modes, m\+\_\+p\+Cur\+Mode\+Link, m\+\_\+stored\+Modes, and Modes\+::\+Mode\+Link\+::unlink\+Self().



Referenced by Vortex\+::del\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a2e72728467bf8a8ffc771be4c49f7b37}\label{classModes_a2e72728467bf8a8ffc771be4c49f7b37}} 
\index{Modes@{Modes}!getFlag@{getFlag}}
\index{getFlag@{getFlag}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{getFlag()}{getFlag()}}
{\footnotesize\ttfamily bool Modes\+::get\+Flag (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{flag }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 133 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{133 \{ \textcolor{keywordflow}{return} ((\mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}} \& flag) != 0); \}}

\end{DoxyCode}


References m\+\_\+global\+Flags.



Referenced by advanced\+Menus\+Enabled(), keychain\+Mode\+Enabled(), locked(), and one\+Click\+Mode\+Enabled().

\mbox{\Hypertarget{classModes_a25f0e61bb0ff6ebc3d27b862b7b83838}\label{classModes_a25f0e61bb0ff6ebc3d27b862b7b83838}} 
\index{Modes@{Modes}!getModeLink@{getModeLink}}
\index{getModeLink@{getModeLink}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{getModeLink()}{getModeLink()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classModes_1_1ModeLink}{Modes\+::\+Mode\+Link}} $\ast$ Modes\+::get\+Mode\+Link (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 776 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{777 \{}
\DoxyCodeLine{778   \textcolor{keywordflow}{if} (index >= \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{779     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{780   \}}
\DoxyCodeLine{781   ModeLink *ptr = \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}};}
\DoxyCodeLine{782   \textcolor{keywordflow}{while} (index > 0 \&\& ptr) \{}
\DoxyCodeLine{783     ptr = ptr-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a5f4e9c451032b7b7d3132da874653900}{next}}();}
\DoxyCodeLine{784     index-\/-\/;}
\DoxyCodeLine{785   \}}
\DoxyCodeLine{786   \textcolor{keywordflow}{return} ptr;}
\DoxyCodeLine{787 \}}

\end{DoxyCode}


References m\+\_\+num\+Modes, m\+\_\+stored\+Modes, and Modes\+::\+Mode\+Link\+::next().



Referenced by init\+Cur\+Mode(), set\+Cur\+Mode(), and shift\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a8b920de981d96ca9365b766a3f59fb73}\label{classModes_a8b920de981d96ca9365b766a3f59fb73}} 
\index{Modes@{Modes}!init@{init}}
\index{init@{init}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily bool Modes\+::init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 32 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{33 \{}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#if MODES\_TEST == 1}}
\DoxyCodeLine{35   Mode::test();}
\DoxyCodeLine{36   test();}
\DoxyCodeLine{37   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{39   \mbox{\hyperlink{classByteStream}{ByteStream}} headerBuffer;}
\DoxyCodeLine{40   \mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a9cd0c2746600e484f4510b22e884019b}{storage}}().\mbox{\hyperlink{classStorage_a463f451de890486dd483575e47defbc7}{read}}(0, headerBuffer);}
\DoxyCodeLine{41   \mbox{\hyperlink{classModes_a0e4a896bf673ecc51bf52f3efabf8aca}{unserializeSaveHeader}}(headerBuffer);}
\DoxyCodeLine{42   \mbox{\hyperlink{classModes_afacf83dda468e498a781439c5b963520}{m\_loaded}} = \textcolor{keyword}{false};}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#ifdef VORTEX\_LIB}}
\DoxyCodeLine{44   \textcolor{comment}{// enable the adv menus by default in vortex lib}}
\DoxyCodeLine{45   \mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}} |= \mbox{\hyperlink{Modes_8h_acbee0408043778c71f933ce9b402bdfb}{MODES\_FLAG\_ADV\_MENUS}};}
\DoxyCodeLine{46 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{47   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{48 \}}

\end{DoxyCode}


References m\+\_\+engine, m\+\_\+global\+Flags, m\+\_\+loaded, MODES\+\_\+\+FLAG\+\_\+\+ADV\+\_\+\+MENUS, Storage\+::read(), Vortex\+Engine\+::storage(), and unserialize\+Save\+Header().



Referenced by Vortex\+Engine\+::init().

\mbox{\Hypertarget{classModes_a80610d5cba52a7faa04868e5062b38dc}\label{classModes_a80610d5cba52a7faa04868e5062b38dc}} 
\index{Modes@{Modes}!initCurMode@{initCurMode}}
\index{initCurMode@{initCurMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{initCurMode()}{initCurMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMode}{Mode}} $\ast$ Modes\+::init\+Cur\+Mode (\begin{DoxyParamCaption}\item[{bool}]{force = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line 789 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{790 \{}
\DoxyCodeLine{791   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{792     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{793   \}}
\DoxyCodeLine{794   \textcolor{comment}{// cleanup the current mode link}}
\DoxyCodeLine{795   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}) \{}
\DoxyCodeLine{796     \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_ac9c4ff7755f2c268034843282baaee39}{uninstantiate}}();}
\DoxyCodeLine{797   \}}
\DoxyCodeLine{798   \textcolor{comment}{// update the current mode link based on the curmode index}}
\DoxyCodeLine{799   \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}} = \mbox{\hyperlink{classModes_a25f0e61bb0ff6ebc3d27b862b7b83838}{getModeLink}}(\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}});}
\DoxyCodeLine{800   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}) \{}
\DoxyCodeLine{801     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{802   \}}
\DoxyCodeLine{803   \textcolor{keywordflow}{if} (force) \{}
\DoxyCodeLine{804     \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_ac9c4ff7755f2c268034843282baaee39}{uninstantiate}}();}
\DoxyCodeLine{805   \}}
\DoxyCodeLine{806   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a284ba1b2ca41f96524480a96128fc113}{instantiate}}();}
\DoxyCodeLine{807 \}}

\end{DoxyCode}


References get\+Mode\+Link(), Modes\+::\+Mode\+Link\+::instantiate(), m\+\_\+cur\+Mode, m\+\_\+num\+Modes, m\+\_\+p\+Cur\+Mode\+Link, and Modes\+::\+Mode\+Link\+::uninstantiate().



Referenced by cur\+Mode(), play(), and update\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a6d2aeb9b9b49c5bae769c146d3e7b977}\label{classModes_a6d2aeb9b9b49c5bae769c146d3e7b977}} 
\index{Modes@{Modes}!keychainModeEnabled@{keychainModeEnabled}}
\index{keychainModeEnabled@{keychainModeEnabled}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{keychainModeEnabled()}{keychainModeEnabled()}}
{\footnotesize\ttfamily bool Modes\+::keychain\+Mode\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 162 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{162                              \{}
\DoxyCodeLine{163     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a2e72728467bf8a8ffc771be4c49f7b37}{getFlag}}(\mbox{\hyperlink{Modes_8h_a57b484625e75f9334ddc6c8a64c31b13}{MODES\_FLAG\_KEYCHAIN}});}
\DoxyCodeLine{164   \}}

\end{DoxyCode}


References get\+Flag(), and MODES\+\_\+\+FLAG\+\_\+\+KEYCHAIN.

\mbox{\Hypertarget{classModes_aa78ae50e4e3b3ed39d1c889c16e56e75}\label{classModes_aa78ae50e4e3b3ed39d1c889c16e56e75}} 
\index{Modes@{Modes}!lastSwitchTime@{lastSwitchTime}}
\index{lastSwitchTime@{lastSwitchTime}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{lastSwitchTime()}{lastSwitchTime()}}
{\footnotesize\ttfamily uint32\+\_\+t Modes\+::last\+Switch\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 113 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{113 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_aa7443de0e5c4aa84bbef7c7691876c5c}{m\_lastSwitchTime}}; \}}

\end{DoxyCode}


References m\+\_\+last\+Switch\+Time.



Referenced by Vortex\+Engine\+::run\+Main\+Logic().

\mbox{\Hypertarget{classModes_a4d97b331857953933fe45825cdef1d3a}\label{classModes_a4d97b331857953933fe45825cdef1d3a}} 
\index{Modes@{Modes}!load@{load}}
\index{load@{load}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily bool Modes\+::load (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 55 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{56 \{}
\DoxyCodeLine{57   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_afacf83dda468e498a781439c5b963520}{m\_loaded}}) \{}
\DoxyCodeLine{58     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{59   \}}
\DoxyCodeLine{60   \textcolor{comment}{// try to load the saved settings or set defaults}}
\DoxyCodeLine{61   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_ae086d04e395dc7e37a456fd095c42ad9}{loadStorage}}()) \{}
\DoxyCodeLine{62     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a790f299aa425bdc73af7f584ee30472b}{setDefaults}}()) \{}
\DoxyCodeLine{63       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{64     \}}
\DoxyCodeLine{65     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a1756081ee85dbcf672ddad5a3dcb4690}{saveStorage}}()) \{}
\DoxyCodeLine{66       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{67     \}}
\DoxyCodeLine{68   \}}
\DoxyCodeLine{69   \mbox{\hyperlink{classModes_afacf83dda468e498a781439c5b963520}{m\_loaded}} = \textcolor{keyword}{true};}
\DoxyCodeLine{70   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{71 \}}

\end{DoxyCode}


References load\+Storage(), m\+\_\+loaded, save\+Storage(), and set\+Defaults().



Referenced by Vortex\+::init(), and Vortex\+Engine\+::run\+Main\+Logic().

\mbox{\Hypertarget{classModes_a7a8e136c877b6cb04ac31a37020b89e6}\label{classModes_a7a8e136c877b6cb04ac31a37020b89e6}} 
\index{Modes@{Modes}!loadFromBuffer@{loadFromBuffer}}
\index{loadFromBuffer@{loadFromBuffer}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{loadFromBuffer()}{loadFromBuffer()}}
{\footnotesize\ttfamily bool Modes\+::load\+From\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{save\+Buffer }\end{DoxyParamCaption})}



Definition at line 112 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{113 \{}
\DoxyCodeLine{114   \textcolor{keywordflow}{if} (!modesBuffer.decompress()) \{}
\DoxyCodeLine{115     \textcolor{comment}{// failed to decompress?}}
\DoxyCodeLine{116     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{117   \}}
\DoxyCodeLine{118   \textcolor{comment}{// read out the header first}}
\DoxyCodeLine{119   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a0e4a896bf673ecc51bf52f3efabf8aca}{unserializeSaveHeader}}(modesBuffer)) \{}
\DoxyCodeLine{120     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{121   \}}
\DoxyCodeLine{122   \textcolor{comment}{// now just unserialize the list of modes}}
\DoxyCodeLine{123   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_ae5c68f28c424a2a08ba659e9373898e3}{unserialize}}(modesBuffer)) \{}
\DoxyCodeLine{124     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{125   \}}
\DoxyCodeLine{126   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a9bfee0b43e6826895e451e9f37ada149}{oneClickModeEnabled}}()) \{}
\DoxyCodeLine{127     \textcolor{comment}{// set the current mode to the startup mode}}
\DoxyCodeLine{128     \mbox{\hyperlink{classModes_af364c05c80262b084d6150346564721d}{switchToStartupMode}}();}
\DoxyCodeLine{129   \}}
\DoxyCodeLine{130   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{131 \}}

\end{DoxyCode}


References Byte\+Stream\+::decompress(), one\+Click\+Mode\+Enabled(), switch\+To\+Startup\+Mode(), unserialize(), and unserialize\+Save\+Header().



Referenced by Editor\+Connection\+::receive\+Modes(), and Vortex\+::set\+Modes().

\mbox{\Hypertarget{classModes_a0f730af197520f0c74c227187fbbfbd7}\label{classModes_a0f730af197520f0c74c227187fbbfbd7}} 
\index{Modes@{Modes}!loadHeader@{loadHeader}}
\index{loadHeader@{loadHeader}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{loadHeader()}{loadHeader()}}
{\footnotesize\ttfamily bool Modes\+::load\+Header (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 149 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{150 \{}
\DoxyCodeLine{151   \mbox{\hyperlink{classByteStream}{ByteStream}} headerBuffer;}
\DoxyCodeLine{152   \textcolor{comment}{// only read storage if the modebuffer isn't filled}}
\DoxyCodeLine{153   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a9cd0c2746600e484f4510b22e884019b}{storage}}().\mbox{\hyperlink{classStorage_a463f451de890486dd483575e47defbc7}{read}}(0, headerBuffer) || !headerBuffer.\mbox{\hyperlink{classByteStream_adf87e444e828287c0a43cab2958ca01b}{size}}()) \{}
\DoxyCodeLine{154     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Empty buffer read from storage"{}});}
\DoxyCodeLine{155     \textcolor{comment}{// this kinda sucks whatever they had loaded is gone}}
\DoxyCodeLine{156     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{157   \}}
\DoxyCodeLine{158   \textcolor{comment}{// this erases what is stored before we know whether there is data}}
\DoxyCodeLine{159   \textcolor{comment}{// but it's the easiest way to just re-\/load new data from storage}}
\DoxyCodeLine{160   \mbox{\hyperlink{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}{clearModes}}();}
\DoxyCodeLine{161   \textcolor{comment}{// read the header and load the data}}
\DoxyCodeLine{162   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a0e4a896bf673ecc51bf52f3efabf8aca}{unserializeSaveHeader}}(headerBuffer)) \{}
\DoxyCodeLine{163     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{164   \}}
\DoxyCodeLine{165   \textcolor{comment}{// NOTE: We do not bother loading the number of modes because}}
\DoxyCodeLine{166   \textcolor{comment}{//       we can't really do anything with it anyway}}
\DoxyCodeLine{167   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{168 \}}

\end{DoxyCode}


References clear\+Modes(), DEBUG\+\_\+\+LOG, m\+\_\+engine, Storage\+::read(), Byte\+Stream\+::size(), Vortex\+Engine\+::storage(), and unserialize\+Save\+Header().

\mbox{\Hypertarget{classModes_ae086d04e395dc7e37a456fd095c42ad9}\label{classModes_ae086d04e395dc7e37a456fd095c42ad9}} 
\index{Modes@{Modes}!loadStorage@{loadStorage}}
\index{loadStorage@{loadStorage}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{loadStorage()}{loadStorage()}}
{\footnotesize\ttfamily bool Modes\+::load\+Storage (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 213 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{214 \{}
\DoxyCodeLine{215   \textcolor{comment}{// NOTE: We could call loadHeader here but then we wouldn't have the headerBuffer}}
\DoxyCodeLine{216   \textcolor{comment}{//       and in turn wouldn't be able to unserialize the number of modes. The number}}
\DoxyCodeLine{217   \textcolor{comment}{//       of modes is a weird case, it's technically part of the mode list not the}}
\DoxyCodeLine{218   \textcolor{comment}{//       header but it is stored in the same storage slot as the header}}
\DoxyCodeLine{219   \mbox{\hyperlink{classByteStream}{ByteStream}} headerBuffer;}
\DoxyCodeLine{220   \textcolor{comment}{// only read storage if the modebuffer isn't filled}}
\DoxyCodeLine{221   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a9cd0c2746600e484f4510b22e884019b}{storage}}().\mbox{\hyperlink{classStorage_a463f451de890486dd483575e47defbc7}{read}}(0, headerBuffer) || !headerBuffer.\mbox{\hyperlink{classByteStream_adf87e444e828287c0a43cab2958ca01b}{size}}()) \{}
\DoxyCodeLine{222     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Empty buffer read from storage"{}});}
\DoxyCodeLine{223     \textcolor{comment}{// this kinda sucks whatever they had loaded is gone}}
\DoxyCodeLine{224     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{225   \}}
\DoxyCodeLine{226   \textcolor{comment}{// this erases what is stored before we know whether there is data}}
\DoxyCodeLine{227   \textcolor{comment}{// but it's the easiest way to just re-\/load new data from storage}}
\DoxyCodeLine{228   \mbox{\hyperlink{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}{clearModes}}();}
\DoxyCodeLine{229   \textcolor{comment}{// read the header and load the data}}
\DoxyCodeLine{230   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a0e4a896bf673ecc51bf52f3efabf8aca}{unserializeSaveHeader}}(headerBuffer)) \{}
\DoxyCodeLine{231     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{232   \}}
\DoxyCodeLine{233   \textcolor{comment}{// unserialize the number of modes next}}
\DoxyCodeLine{234   uint8\_t \mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}} = 0;}
\DoxyCodeLine{235   \textcolor{keywordflow}{if} (!headerBuffer.\mbox{\hyperlink{classByteStream_a4451478eea4d9efba71cdc043bda4db2}{unserialize8}}(\&\mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}})) \{}
\DoxyCodeLine{236     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{237   \}}
\DoxyCodeLine{238   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}}) \{}
\DoxyCodeLine{239     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Did not find any modes"{}});}
\DoxyCodeLine{240     \textcolor{comment}{// this kinda sucks whatever they had loaded is gone}}
\DoxyCodeLine{241     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{242   \}}
\DoxyCodeLine{243   \textcolor{comment}{// iterate each mode and read it out of it's storage slot then add it}}
\DoxyCodeLine{244   \textcolor{keywordflow}{for} (uint8\_t i = 0; i < \mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}}; ++i) \{}
\DoxyCodeLine{245     \mbox{\hyperlink{classByteStream}{ByteStream}} modeBuffer(\mbox{\hyperlink{VortexConfig_8h_a4d5f0e0392f00d31715ddf81eb87434a}{MAX\_MODE\_SIZE}});}
\DoxyCodeLine{246     \textcolor{comment}{// read each mode from a storage slot and load it}}
\DoxyCodeLine{247     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a9cd0c2746600e484f4510b22e884019b}{storage}}().\mbox{\hyperlink{classStorage_a463f451de890486dd483575e47defbc7}{read}}(i + 1, modeBuffer) || !\mbox{\hyperlink{classModes_a26c54d5906a00353965d679e7f0a63a6}{addSerializedMode}}(modeBuffer)) \{}
\DoxyCodeLine{248       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{249     \}}
\DoxyCodeLine{250   \}}
\DoxyCodeLine{251   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a9bfee0b43e6826895e451e9f37ada149}{oneClickModeEnabled}}()) \{}
\DoxyCodeLine{252     \textcolor{comment}{// set the current mode to the startup mode}}
\DoxyCodeLine{253     \mbox{\hyperlink{classModes_af364c05c80262b084d6150346564721d}{switchToStartupMode}}();}
\DoxyCodeLine{254   \}}
\DoxyCodeLine{255   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{256 \}}

\end{DoxyCode}


References add\+Serialized\+Mode(), clear\+Modes(), DEBUG\+\_\+\+LOG, m\+\_\+engine, MAX\+\_\+\+MODE\+\_\+\+SIZE, num\+Modes(), one\+Click\+Mode\+Enabled(), Storage\+::read(), Byte\+Stream\+::size(), Vortex\+Engine\+::storage(), switch\+To\+Startup\+Mode(), Byte\+Stream\+::unserialize8(), and unserialize\+Save\+Header().



Referenced by load(), and Vortex\+::load\+Storage().

\mbox{\Hypertarget{classModes_a02a1ac5ad4458011fb2dfe66920fd2c3}\label{classModes_a02a1ac5ad4458011fb2dfe66920fd2c3}} 
\index{Modes@{Modes}!locked@{locked}}
\index{locked@{locked}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{locked()}{locked()}}
{\footnotesize\ttfamily bool Modes\+::locked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 148 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{148                 \{}
\DoxyCodeLine{149     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a2e72728467bf8a8ffc771be4c49f7b37}{getFlag}}(\mbox{\hyperlink{Modes_8h_a2f796fdb7e7077c9d6e4a0e58866a512}{MODES\_FLAG\_LOCKED}});}
\DoxyCodeLine{150   \}}

\end{DoxyCode}


References get\+Flag(), and MODES\+\_\+\+FLAG\+\_\+\+LOCKED.



Referenced by set\+Locked(), and Vortex\+Engine\+::tick().

\mbox{\Hypertarget{classModes_ac9a4c95f7e899dc2732f65ebe78559c2}\label{classModes_ac9a4c95f7e899dc2732f65ebe78559c2}} 
\index{Modes@{Modes}!nextMode@{nextMode}}
\index{nextMode@{nextMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{nextMode()}{nextMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMode}{Mode}} $\ast$ Modes\+::next\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 608 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{609 \{}
\DoxyCodeLine{610   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{611     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{612   \}}
\DoxyCodeLine{613   \textcolor{comment}{// iterate the cur mode forward}}
\DoxyCodeLine{614   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a65f088d9076706c4976f7282be323e50}{setCurMode}}(\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}} + 1);}
\DoxyCodeLine{615 \}}

\end{DoxyCode}


References m\+\_\+cur\+Mode, m\+\_\+num\+Modes, and set\+Cur\+Mode().



Referenced by Vortex\+::next\+Mode(), play(), Vortex\+Engine\+::run\+Main\+Logic(), and Vortex\+::save\+To\+Json().

\mbox{\Hypertarget{classModes_a70c51e7490681e5ee6a6e6d8084b8fc4}\label{classModes_a70c51e7490681e5ee6a6e6d8084b8fc4}} 
\index{Modes@{Modes}!nextModeSkipEmpty@{nextModeSkipEmpty}}
\index{nextModeSkipEmpty@{nextModeSkipEmpty}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{nextModeSkipEmpty()}{nextModeSkipEmpty()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMode}{Mode}} $\ast$ Modes\+::next\+Mode\+Skip\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 630 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{631 \{}
\DoxyCodeLine{632   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{633     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a65f088d9076706c4976f7282be323e50}{setCurMode}}(\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}} + 1) \&\& !\mbox{\hyperlink{classModes_a1e520dc2ee457bc93a795e9945249dbd}{curMode}}()-\/>isEmpty()) \{}
\DoxyCodeLine{634       \textcolor{keywordflow}{break};}
\DoxyCodeLine{635     \}}
\DoxyCodeLine{636   \} \textcolor{keywordflow}{while} (\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}} != 0);}
\DoxyCodeLine{637   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a1e520dc2ee457bc93a795e9945249dbd}{curMode}}();}
\DoxyCodeLine{638 \}}

\end{DoxyCode}


References cur\+Mode(), m\+\_\+cur\+Mode, and set\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a0710ac2d5d384aec9174fdba4cdc860e}\label{classModes_a0710ac2d5d384aec9174fdba4cdc860e}} 
\index{Modes@{Modes}!numModes@{numModes}}
\index{numModes@{numModes}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{numModes()}{numModes()}}
{\footnotesize\ttfamily uint8\+\_\+t Modes\+::num\+Modes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 109 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{109 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}; \}}

\end{DoxyCode}


References m\+\_\+num\+Modes.



Referenced by Vortex\+::del\+Cur\+Mode(), Menu\+::init(), Vortex\+::load\+From\+Json(), load\+Storage(), Vortex\+::next\+Mode(), Vortex\+::num\+Modes(), previous\+Mode(), Vortex\+::save\+To\+Json(), Vortex\+::set\+Cur\+Mode(), Vortex\+::shift\+Cur\+Mode(), and unserialize().

\mbox{\Hypertarget{classModes_a9bfee0b43e6826895e451e9f37ada149}\label{classModes_a9bfee0b43e6826895e451e9f37ada149}} 
\index{Modes@{Modes}!oneClickModeEnabled@{oneClickModeEnabled}}
\index{oneClickModeEnabled@{oneClickModeEnabled}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{oneClickModeEnabled()}{oneClickModeEnabled()}}
{\footnotesize\ttfamily bool Modes\+::one\+Click\+Mode\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 141 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{141                              \{}
\DoxyCodeLine{142     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a2e72728467bf8a8ffc771be4c49f7b37}{getFlag}}(\mbox{\hyperlink{Modes_8h_a6fc6ef6c1db20c133907e52576cb8364}{MODES\_FLAG\_ONE\_CLICK}});}
\DoxyCodeLine{143   \}}

\end{DoxyCode}


References get\+Flag(), and MODES\+\_\+\+FLAG\+\_\+\+ONE\+\_\+\+CLICK.



Referenced by load\+From\+Buffer(), and load\+Storage().

\mbox{\Hypertarget{classModes_a9e98b568fcd3d00b7c3f0705b5120925}\label{classModes_a9e98b568fcd3d00b7c3f0705b5120925}} 
\index{Modes@{Modes}!play@{play}}
\index{play@{play}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{play()}{play()}}
{\footnotesize\ttfamily void Modes\+::play (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 73 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{74 \{}
\DoxyCodeLine{75   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{76     \textcolor{comment}{// nothing to do just keep the leds cleared}}
\DoxyCodeLine{77     \mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a6db4e68fe048d9ff0fbb15cc126f28fb}{leds}}().\mbox{\hyperlink{classLeds_ab61ea9a22bd6618c7b7aa6cb34d27c1d}{clearAll}}();}
\DoxyCodeLine{78     \textcolor{keywordflow}{return};}
\DoxyCodeLine{79   \}}
\DoxyCodeLine{80   \textcolor{comment}{// should be able to initialize the current mode}}
\DoxyCodeLine{81   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}} \&\& !\mbox{\hyperlink{classModes_a80610d5cba52a7faa04868e5062b38dc}{initCurMode}}()) \{}
\DoxyCodeLine{82     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Error failed to load any modes!"{}});}
\DoxyCodeLine{83     \textcolor{keywordflow}{return};}
\DoxyCodeLine{84   \}}
\DoxyCodeLine{85   \textcolor{comment}{// shortclick cycles to the next mode}}
\DoxyCodeLine{86   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_aa8257eae68c0e55bbec0f5cc6bca87dc}{button}}().\mbox{\hyperlink{classButton_a4e2b10397cdad6546a8728a87b82fadb}{onShortClick}}()) \{}
\DoxyCodeLine{87     \mbox{\hyperlink{classModes_ac9a4c95f7e899dc2732f65ebe78559c2}{nextMode}}();}
\DoxyCodeLine{88   \}}
\DoxyCodeLine{89   \textcolor{comment}{// play the current mode}}
\DoxyCodeLine{90   \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_aeeb50c7513608fa90144186de3f2e42c}{play}}();}
\DoxyCodeLine{91 \}}

\end{DoxyCode}


References Vortex\+Engine\+::button(), Leds\+::clear\+All(), DEBUG\+\_\+\+LOG, init\+Cur\+Mode(), Vortex\+Engine\+::leds(), m\+\_\+engine, m\+\_\+num\+Modes, m\+\_\+p\+Cur\+Mode\+Link, next\+Mode(), Button\+::on\+Short\+Click(), and Modes\+::\+Mode\+Link\+::play().



Referenced by Vortex\+Engine\+::run\+Main\+Logic().

\mbox{\Hypertarget{classModes_afff6da06a409164e2d5241e825d88dd2}\label{classModes_afff6da06a409164e2d5241e825d88dd2}} 
\index{Modes@{Modes}!previousMode@{previousMode}}
\index{previousMode@{previousMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{previousMode()}{previousMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMode}{Mode}} $\ast$ Modes\+::previous\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 618 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{619 \{}
\DoxyCodeLine{620   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{621     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{622   \}}
\DoxyCodeLine{623   \textcolor{comment}{// iterate the cur mode backwards}}
\DoxyCodeLine{624   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}}) \{}
\DoxyCodeLine{625     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a65f088d9076706c4976f7282be323e50}{setCurMode}}(\mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}}() -\/ 1);}
\DoxyCodeLine{626   \}}
\DoxyCodeLine{627   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a65f088d9076706c4976f7282be323e50}{setCurMode}}(\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}} -\/ 1);}
\DoxyCodeLine{628 \}}

\end{DoxyCode}


References m\+\_\+cur\+Mode, m\+\_\+num\+Modes, num\+Modes(), and set\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a44f9cbf145f712a8ca50980a084809ca}\label{classModes_a44f9cbf145f712a8ca50980a084809ca}} 
\index{Modes@{Modes}!resetFlags@{resetFlags}}
\index{resetFlags@{resetFlags}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{resetFlags()}{resetFlags()}}
{\footnotesize\ttfamily void Modes\+::reset\+Flags (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 135 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{135 \{ \mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}} = 0; \}}

\end{DoxyCode}


References m\+\_\+global\+Flags.



Referenced by Factory\+Reset\+::on\+Long\+Click().

\mbox{\Hypertarget{classModes_a1cb4d9f5f52072994532cf62585a2719}\label{classModes_a1cb4d9f5f52072994532cf62585a2719}} 
\index{Modes@{Modes}!saveCurMode@{saveCurMode}}
\index{saveCurMode@{saveCurMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{saveCurMode()}{saveCurMode()}}
{\footnotesize\ttfamily bool Modes\+::save\+Cur\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 809 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{810 \{}
\DoxyCodeLine{811   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}) \{}
\DoxyCodeLine{812     \textcolor{comment}{// if there's no loaded mode currently then there's nothing}}
\DoxyCodeLine{813     \textcolor{comment}{// to save so there's no error}}
\DoxyCodeLine{814     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{815   \}}
\DoxyCodeLine{816   \textcolor{comment}{// force the current mode to save back to serial to catch changes}}
\DoxyCodeLine{817   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_ab36d327d9654b2a28c97bdb60fa47481}{save}}();}
\DoxyCodeLine{818 \}}

\end{DoxyCode}


References m\+\_\+p\+Cur\+Mode\+Link, and Modes\+::\+Mode\+Link\+::save().



Referenced by save\+Storage(), serialize(), and update\+Cur\+Mode().

\mbox{\Hypertarget{classModes_ade2a9cca4ba60327352111a369c28a15}\label{classModes_ade2a9cca4ba60327352111a369c28a15}} 
\index{Modes@{Modes}!saveHeader@{saveHeader}}
\index{saveHeader@{saveHeader}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{saveHeader()}{saveHeader()}}
{\footnotesize\ttfamily bool Modes\+::save\+Header (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 133 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{134 \{}
\DoxyCodeLine{135   \mbox{\hyperlink{classByteStream}{ByteStream}} headerBuffer(\mbox{\hyperlink{VortexConfig_8h_a4d5f0e0392f00d31715ddf81eb87434a}{MAX\_MODE\_SIZE}});}
\DoxyCodeLine{136   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a4432825def9ab0a3edb0c480e21c14e1}{serializeSaveHeader}}(headerBuffer)) \{}
\DoxyCodeLine{137     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{138   \}}
\DoxyCodeLine{139   \textcolor{comment}{// serialize the number of modes}}
\DoxyCodeLine{140   \textcolor{keywordflow}{if} (!headerBuffer.serialize8(\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}})) \{}
\DoxyCodeLine{141     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{142   \}}
\DoxyCodeLine{143   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a9cd0c2746600e484f4510b22e884019b}{storage}}().\mbox{\hyperlink{classStorage_a97a1b036dedd7b94a91899638c2248c1}{write}}(0, headerBuffer)) \{}
\DoxyCodeLine{144     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{145   \}}
\DoxyCodeLine{146   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{147 \}}

\end{DoxyCode}


References m\+\_\+engine, m\+\_\+num\+Modes, MAX\+\_\+\+MODE\+\_\+\+SIZE, Byte\+Stream\+::serialize8(), serialize\+Save\+Header(), Vortex\+Engine\+::storage(), and Storage\+::write().



Referenced by save\+Storage(), set\+Flag(), and unserialize\+Save\+Header().

\mbox{\Hypertarget{classModes_a1756081ee85dbcf672ddad5a3dcb4690}\label{classModes_a1756081ee85dbcf672ddad5a3dcb4690}} 
\index{Modes@{Modes}!saveStorage@{saveStorage}}
\index{saveStorage@{saveStorage}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{saveStorage()}{saveStorage()}}
{\footnotesize\ttfamily bool Modes\+::save\+Storage (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 172 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{173 \{}
\DoxyCodeLine{174   \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Saving modes..."{}});}
\DoxyCodeLine{175   \mbox{\hyperlink{classModes_ade2a9cca4ba60327352111a369c28a15}{saveHeader}}();}
\DoxyCodeLine{176   \textcolor{comment}{// make sure the current mode is saved in case it has changed somehow}}
\DoxyCodeLine{177   \mbox{\hyperlink{classModes_a1cb4d9f5f52072994532cf62585a2719}{saveCurMode}}();}
\DoxyCodeLine{178   \textcolor{comment}{// uninstantiate cur mode so we have stack space to serialize}}
\DoxyCodeLine{179   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}) \{}
\DoxyCodeLine{180     \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_ac9c4ff7755f2c268034843282baaee39}{uninstantiate}}();}
\DoxyCodeLine{181   \}}
\DoxyCodeLine{182   uint8\_t i = 0;}
\DoxyCodeLine{183   ModeLink *ptr = \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}};}
\DoxyCodeLine{184   \textcolor{keywordflow}{while} (ptr \&\& i < \mbox{\hyperlink{VortexConfig_8h_a95b270e9c99aea216b47fd1e95b2cf34}{MAX\_MODES}}) \{}
\DoxyCodeLine{185     \mbox{\hyperlink{classByteStream}{ByteStream}} modeBuffer(\mbox{\hyperlink{VortexConfig_8h_a4d5f0e0392f00d31715ddf81eb87434a}{MAX\_MODE\_SIZE}});}
\DoxyCodeLine{186     \textcolor{comment}{// instantiate the mode temporarily}}
\DoxyCodeLine{187     \mbox{\hyperlink{classMode}{Mode}} *mode = ptr-\/>instantiate();}
\DoxyCodeLine{188     \textcolor{keywordflow}{if} (!mode) \{}
\DoxyCodeLine{189       \mbox{\hyperlink{Log_8h_a804825e040f1cce9e3d2bb53c4858710}{ERROR\_OUT\_OF\_MEMORY}}();}
\DoxyCodeLine{190       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{191     \}}
\DoxyCodeLine{192     \textcolor{comment}{// serialize it into the target modes buffer}}
\DoxyCodeLine{193     \textcolor{keywordflow}{if} (!mode-\/>\mbox{\hyperlink{classMode_aad4310ad7cbb0d98f5583c97881012f2}{serialize}}(modeBuffer)) \{}
\DoxyCodeLine{194       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{195     \}}
\DoxyCodeLine{196     \textcolor{comment}{// just uninstansiate the mode after serializing}}
\DoxyCodeLine{197     ptr-\/>uninstantiate();}
\DoxyCodeLine{198     \textcolor{comment}{// next mode}}
\DoxyCodeLine{199     ptr = ptr-\/>next();}
\DoxyCodeLine{200     \textcolor{comment}{// now write this mode into a storage slot (skip first slot, that's header)}}
\DoxyCodeLine{201     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a9cd0c2746600e484f4510b22e884019b}{storage}}().\mbox{\hyperlink{classStorage_a97a1b036dedd7b94a91899638c2248c1}{write}}(++i, modeBuffer)) \{}
\DoxyCodeLine{202       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{203     \}}
\DoxyCodeLine{204   \}}
\DoxyCodeLine{205   \textcolor{comment}{// reinstanstiate the current mode}}
\DoxyCodeLine{206   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}} \&\& !\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a284ba1b2ca41f96524480a96128fc113}{instantiate}}()) \{}
\DoxyCodeLine{207     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{208   \}}
\DoxyCodeLine{209   \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Serialized num modes: \%u"{}}, \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}});}
\DoxyCodeLine{210   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{211 \}}

\end{DoxyCode}


References DEBUG\+\_\+\+LOG, DEBUG\+\_\+\+LOGF, ERROR\+\_\+\+OUT\+\_\+\+OF\+\_\+\+MEMORY, Modes\+::\+Mode\+Link\+::instantiate(), m\+\_\+engine, m\+\_\+num\+Modes, m\+\_\+p\+Cur\+Mode\+Link, m\+\_\+stored\+Modes, MAX\+\_\+\+MODE\+\_\+\+SIZE, MAX\+\_\+\+MODES, Modes\+::\+Mode\+Link\+::next(), save\+Cur\+Mode(), save\+Header(), Mode\+::serialize(), Vortex\+Engine\+::storage(), Modes\+::\+Mode\+Link\+::uninstantiate(), and Storage\+::write().



Referenced by Vortex\+::do\+Save(), Vortex\+Engine\+::enter\+Sleep(), Vortex\+::get\+Cur\+Mode(), Menu\+::leave\+Menu(), load(), and Editor\+Connection\+::receive\+Modes().

\mbox{\Hypertarget{classModes_a9b64018ed3d72c3667f0eaef5fd6495f}\label{classModes_a9b64018ed3d72c3667f0eaef5fd6495f}} 
\index{Modes@{Modes}!saveToBuffer@{saveToBuffer}}
\index{saveToBuffer@{saveToBuffer}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{saveToBuffer()}{saveToBuffer()}}
{\footnotesize\ttfamily bool Modes\+::save\+To\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{save\+Buffer }\end{DoxyParamCaption})}



Definition at line 94 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{95 \{}
\DoxyCodeLine{96   \textcolor{comment}{// first write out the header}}
\DoxyCodeLine{97   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a4432825def9ab0a3edb0c480e21c14e1}{serializeSaveHeader}}(modesBuffer)) \{}
\DoxyCodeLine{98     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{99   \}}
\DoxyCodeLine{100   \textcolor{comment}{// serialize all modes data into the modesBuffer}}
\DoxyCodeLine{101   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_afb881f5315e4197bb01625b1268eca9d}{serialize}}(modesBuffer)) \{}
\DoxyCodeLine{102     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{103   \}}
\DoxyCodeLine{104   \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Serialized all modes, uncompressed size: \%u"{}}, modesBuffer.size());}
\DoxyCodeLine{105   \textcolor{keywordflow}{if} (!modesBuffer.compress()) \{}
\DoxyCodeLine{106     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{107   \}}
\DoxyCodeLine{108   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{109 \}}

\end{DoxyCode}


References Byte\+Stream\+::compress(), DEBUG\+\_\+\+LOGF, serialize(), serialize\+Save\+Header(), and Byte\+Stream\+::size().



Referenced by Vortex\+::get\+Modes(), and Editor\+Connection\+::send\+Modes().

\mbox{\Hypertarget{classModes_afb881f5315e4197bb01625b1268eca9d}\label{classModes_afb881f5315e4197bb01625b1268eca9d}} 
\index{Modes@{Modes}!serialize@{serialize}}
\index{serialize@{serialize}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{serialize()}{serialize()}}
{\footnotesize\ttfamily bool Modes\+::serialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{buffer }\end{DoxyParamCaption})}



Definition at line 314 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{315 \{}
\DoxyCodeLine{316   \textcolor{comment}{// serialize the number of modes}}
\DoxyCodeLine{317   \textcolor{keywordflow}{if} (!modesBuffer.serialize8(\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}})) \{}
\DoxyCodeLine{318     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{319   \}}
\DoxyCodeLine{320   \textcolor{comment}{// make sure the current mode is saved in case it has changed somehow}}
\DoxyCodeLine{321   \mbox{\hyperlink{classModes_a1cb4d9f5f52072994532cf62585a2719}{saveCurMode}}();}
\DoxyCodeLine{322   \textcolor{comment}{// uninstantiate cur mode so we have stack space to serialize}}
\DoxyCodeLine{323   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}) \{}
\DoxyCodeLine{324     \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_ac9c4ff7755f2c268034843282baaee39}{uninstantiate}}();}
\DoxyCodeLine{325   \}}
\DoxyCodeLine{326   ModeLink *ptr = \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}};}
\DoxyCodeLine{327   \textcolor{keywordflow}{while} (ptr) \{}
\DoxyCodeLine{328     \textcolor{comment}{// instantiate the mode temporarily}}
\DoxyCodeLine{329     \mbox{\hyperlink{classMode}{Mode}} *mode = ptr-\/>instantiate();}
\DoxyCodeLine{330     \textcolor{keywordflow}{if} (!mode) \{}
\DoxyCodeLine{331       \mbox{\hyperlink{Log_8h_a804825e040f1cce9e3d2bb53c4858710}{ERROR\_OUT\_OF\_MEMORY}}();}
\DoxyCodeLine{332       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{333     \}}
\DoxyCodeLine{334     \textcolor{comment}{// serialize it into the target modes buffer}}
\DoxyCodeLine{335     \textcolor{keywordflow}{if} (!mode-\/>\mbox{\hyperlink{classMode_aad4310ad7cbb0d98f5583c97881012f2}{serialize}}(modesBuffer)) \{}
\DoxyCodeLine{336       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{337     \}}
\DoxyCodeLine{338     \textcolor{comment}{// just uninstansiate the mode after serializing}}
\DoxyCodeLine{339     ptr-\/>uninstantiate();}
\DoxyCodeLine{340     \textcolor{comment}{// next mode}}
\DoxyCodeLine{341     ptr = ptr-\/>next();}
\DoxyCodeLine{342   \}}
\DoxyCodeLine{343   \textcolor{comment}{// reinstanstiate the current mode}}
\DoxyCodeLine{344   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}} \&\& !\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a284ba1b2ca41f96524480a96128fc113}{instantiate}}()) \{}
\DoxyCodeLine{345     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{346   \}}
\DoxyCodeLine{347   \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Serialized num modes: \%u"{}}, \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}});}
\DoxyCodeLine{348   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{349 \}}

\end{DoxyCode}


References DEBUG\+\_\+\+LOGF, ERROR\+\_\+\+OUT\+\_\+\+OF\+\_\+\+MEMORY, Modes\+::\+Mode\+Link\+::instantiate(), m\+\_\+num\+Modes, m\+\_\+p\+Cur\+Mode\+Link, m\+\_\+stored\+Modes, Modes\+::\+Mode\+Link\+::next(), save\+Cur\+Mode(), Mode\+::serialize(), Byte\+Stream\+::serialize8(), and Modes\+::\+Mode\+Link\+::uninstantiate().



Referenced by save\+To\+Buffer().

\mbox{\Hypertarget{classModes_a4432825def9ab0a3edb0c480e21c14e1}\label{classModes_a4432825def9ab0a3edb0c480e21c14e1}} 
\index{Modes@{Modes}!serializeSaveHeader@{serializeSaveHeader}}
\index{serializeSaveHeader@{serializeSaveHeader}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{serializeSaveHeader()}{serializeSaveHeader()}}
{\footnotesize\ttfamily bool Modes\+::serialize\+Save\+Header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{save\+Buffer }\end{DoxyParamCaption})}



Definition at line 258 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{259 \{}
\DoxyCodeLine{260   \textcolor{comment}{// serialize the engine version into the modes buffer}}
\DoxyCodeLine{261   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a194a57be4545c9e7d0ceb0df6cf3d7e8}{serializeVersion}}(saveBuffer)) \{}
\DoxyCodeLine{262     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{263   \}}
\DoxyCodeLine{264   \textcolor{comment}{// NOTE: instead of global brightness the duo uses this to store the}}
\DoxyCodeLine{265   \textcolor{comment}{//       startup mode ID. The duo doesn't offer a global brightness option}}
\DoxyCodeLine{266   \textcolor{keywordflow}{if} (!saveBuffer.\mbox{\hyperlink{classByteStream_ad3b413f399f22d30548a61a5e01ef3a7}{serialize8}}(\mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}})) \{}
\DoxyCodeLine{267     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{268   \}}
\DoxyCodeLine{269   \textcolor{comment}{// serialize the global brightness}}
\DoxyCodeLine{270   \textcolor{keywordflow}{if} (!saveBuffer.\mbox{\hyperlink{classByteStream_ad3b413f399f22d30548a61a5e01ef3a7}{serialize8}}((uint8\_t)\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a6db4e68fe048d9ff0fbb15cc126f28fb}{leds}}().\mbox{\hyperlink{classLeds_ae4636fec88b6ff8e745fe09e46c5b1e6}{getBrightness}}())) \{}
\DoxyCodeLine{271     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{272   \}}
\DoxyCodeLine{273   \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Serialized all modes, uncompressed size: \%u"{}}, saveBuffer.\mbox{\hyperlink{classByteStream_adf87e444e828287c0a43cab2958ca01b}{size}}());}
\DoxyCodeLine{274   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{275 \}}

\end{DoxyCode}


References DEBUG\+\_\+\+LOGF, Leds\+::get\+Brightness(), Vortex\+Engine\+::leds(), m\+\_\+engine, m\+\_\+global\+Flags, Byte\+Stream\+::serialize8(), Vortex\+Engine\+::serialize\+Version(), and Byte\+Stream\+::size().



Referenced by save\+Header(), and save\+To\+Buffer().

\mbox{\Hypertarget{classModes_aa4e0e3a22d95b7d23c939bf620c41727}\label{classModes_aa4e0e3a22d95b7d23c939bf620c41727}} 
\index{Modes@{Modes}!setAdvancedMenus@{setAdvancedMenus}}
\index{setAdvancedMenus@{setAdvancedMenus}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{setAdvancedMenus()}{setAdvancedMenus()}}
{\footnotesize\ttfamily bool Modes\+::set\+Advanced\+Menus (\begin{DoxyParamCaption}\item[{bool}]{active,  }\item[{bool}]{save = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 152 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{152                                                        \{}
\DoxyCodeLine{153     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_af6820eafbbb127aeec832813dd7685dc}{setFlag}}(\mbox{\hyperlink{Modes_8h_acbee0408043778c71f933ce9b402bdfb}{MODES\_FLAG\_ADV\_MENUS}}, active, save);}
\DoxyCodeLine{154   \}}

\end{DoxyCode}


References MODES\+\_\+\+FLAG\+\_\+\+ADV\+\_\+\+MENUS, and set\+Flag().



Referenced by Menus\+::run\+Menu\+Selection().

\mbox{\Hypertarget{classModes_a65f088d9076706c4976f7282be323e50}\label{classModes_a65f088d9076706c4976f7282be323e50}} 
\index{Modes@{Modes}!setCurMode@{setCurMode}}
\index{setCurMode@{setCurMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{setCurMode()}{setCurMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMode}{Mode}} $\ast$ Modes\+::set\+Cur\+Mode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{index }\end{DoxyParamCaption})}



Definition at line 551 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{552 \{}
\DoxyCodeLine{553   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{554     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{555   \}}
\DoxyCodeLine{556   \textcolor{comment}{// clear the LEDs when switching modes}}
\DoxyCodeLine{557   \mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a6db4e68fe048d9ff0fbb15cc126f28fb}{leds}}().\mbox{\hyperlink{classLeds_ab61ea9a22bd6618c7b7aa6cb34d27c1d}{clearAll}}();}
\DoxyCodeLine{558   \textcolor{comment}{// if we have a current mode open, close it}}
\DoxyCodeLine{559   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}) \{}
\DoxyCodeLine{560     \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_ac9c4ff7755f2c268034843282baaee39}{uninstantiate}}();}
\DoxyCodeLine{561   \}}
\DoxyCodeLine{562   int8\_t newModeIdx = index \% \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}};}
\DoxyCodeLine{563   \textcolor{comment}{// lookup the new mode link}}
\DoxyCodeLine{564   ModeLink *newCurLink = \mbox{\hyperlink{classModes_a25f0e61bb0ff6ebc3d27b862b7b83838}{getModeLink}}(newModeIdx);}
\DoxyCodeLine{565   \textcolor{keywordflow}{if} (!newCurLink) \{}
\DoxyCodeLine{566     \textcolor{comment}{// what}}
\DoxyCodeLine{567     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{568   \}}
\DoxyCodeLine{569   \textcolor{comment}{// instantiate the new mode so it is ready, also so it can be checked for PATTERN\_NONE}}
\DoxyCodeLine{570   \mbox{\hyperlink{classMode}{Mode}} *newCur = newCurLink-\/>instantiate();}
\DoxyCodeLine{571   \textcolor{keywordflow}{if} (!newCur) \{}
\DoxyCodeLine{572     \mbox{\hyperlink{Log_8h_a804825e040f1cce9e3d2bb53c4858710}{ERROR\_OUT\_OF\_MEMORY}}();}
\DoxyCodeLine{573     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{574   \}}
\DoxyCodeLine{575   \textcolor{comment}{// update to the new mode}}
\DoxyCodeLine{576   \mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}} = newModeIdx;}
\DoxyCodeLine{577   \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}} = newCurLink;}
\DoxyCodeLine{578   \textcolor{comment}{// record the current time as the last switch time}}
\DoxyCodeLine{579   \mbox{\hyperlink{classModes_aa7443de0e5c4aa84bbef7c7691876c5c}{m\_lastSwitchTime}} = \mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a3f383e032325c07495d21474f497d2f6}{time}}().\mbox{\hyperlink{classTime_a4928281e63a820cd8f0b00b53c6e4587}{getCurtime}}();}
\DoxyCodeLine{580   \textcolor{comment}{// update the global startup mode to be this mode, if we turn off}}
\DoxyCodeLine{581   \textcolor{comment}{// and turn back on into one click mode it will select this one}}
\DoxyCodeLine{582   \mbox{\hyperlink{classModes_a86dc60444399ab04d49f77935f68e8dd}{Modes::setStartupMode}}(newModeIdx);}
\DoxyCodeLine{583   \textcolor{comment}{// log the change}}
\DoxyCodeLine{584   \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Switch to Mode: \%u / \%u (pattern id: \%u)"{}},}
\DoxyCodeLine{585     \mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}}, \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} -\/ 1, newCur-\/>\mbox{\hyperlink{classMode_a37b660257352663dcab903649b7aebc7}{getPatternID}}());}
\DoxyCodeLine{586   \textcolor{comment}{// return the new current mode}}
\DoxyCodeLine{587   \textcolor{keywordflow}{return} newCur;}
\DoxyCodeLine{588 \}}

\end{DoxyCode}


References Leds\+::clear\+All(), DEBUG\+\_\+\+LOGF, ERROR\+\_\+\+OUT\+\_\+\+OF\+\_\+\+MEMORY, Time\+::get\+Curtime(), get\+Mode\+Link(), Mode\+::get\+Pattern\+ID(), Modes\+::\+Mode\+Link\+::instantiate(), Vortex\+Engine\+::leds(), m\+\_\+cur\+Mode, m\+\_\+engine, m\+\_\+last\+Switch\+Time, m\+\_\+num\+Modes, m\+\_\+p\+Cur\+Mode\+Link, set\+Startup\+Mode(), Vortex\+Engine\+::time(), and Modes\+::\+Mode\+Link\+::uninstantiate().



Referenced by next\+Mode(), next\+Mode\+Skip\+Empty(), Factory\+Reset\+::on\+Long\+Click(), previous\+Mode(), Vortex\+::save\+To\+Json(), Vortex\+::set\+Cur\+Mode(), and switch\+To\+Startup\+Mode().

\mbox{\Hypertarget{classModes_a790f299aa425bdc73af7f584ee30472b}\label{classModes_a790f299aa425bdc73af7f584ee30472b}} 
\index{Modes@{Modes}!setDefaults@{setDefaults}}
\index{setDefaults@{setDefaults}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{setDefaults()}{setDefaults()}}
{\footnotesize\ttfamily bool Modes\+::set\+Defaults (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 384 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{385 \{}
\DoxyCodeLine{386   \mbox{\hyperlink{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}{clearModes}}();}
\DoxyCodeLine{387   \textcolor{comment}{// add each default mode with each of the given colors}}
\DoxyCodeLine{388   \textcolor{keywordflow}{for} (uint8\_t i = 0; i < \mbox{\hyperlink{DefaultModes_8cpp_a5dd4a9079d227f34133f29b705367e7e}{num\_default\_modes}}; ++i) \{}
\DoxyCodeLine{389     \textcolor{keyword}{const} \mbox{\hyperlink{structdefault__mode__entry}{default\_mode\_entry}} \&def = \mbox{\hyperlink{DefaultModes_8cpp_a45a26bbffb6073c152f32b3ec0404f15}{default\_modes}}[i];}
\DoxyCodeLine{390     \mbox{\hyperlink{classColorset}{Colorset}} set(def.\mbox{\hyperlink{structdefault__mode__entry_af7d1e60c1f4c0d43a5ad2239e67fe65c}{numColors}}, def.\mbox{\hyperlink{structdefault__mode__entry_a0a868b6138ec894e5b7cb71aa7759192}{cols}});}
\DoxyCodeLine{391     \mbox{\hyperlink{classModes_a5437bef398769cbfc12e847c7e488bed}{addMode}}(def.\mbox{\hyperlink{structdefault__mode__entry_a95bf993636f486502b854fc91380cd5b}{patternID}}, \textcolor{keyword}{nullptr}, \&set);}
\DoxyCodeLine{392   \}}
\DoxyCodeLine{393   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{394 \}}

\end{DoxyCode}


References add\+Mode(), clear\+Modes(), default\+\_\+mode\+\_\+entry\+::cols, default\+\_\+modes, num\+\_\+default\+\_\+modes, default\+\_\+mode\+\_\+entry\+::num\+Colors, and default\+\_\+mode\+\_\+entry\+::pattern\+ID.



Referenced by load(), and Factory\+Reset\+::on\+Long\+Click().

\mbox{\Hypertarget{classModes_af6820eafbbb127aeec832813dd7685dc}\label{classModes_af6820eafbbb127aeec832813dd7685dc}} 
\index{Modes@{Modes}!setFlag@{setFlag}}
\index{setFlag@{setFlag}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{setFlag()}{setFlag()}}
{\footnotesize\ttfamily bool Modes\+::set\+Flag (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{flag,  }\item[{bool}]{enable,  }\item[{bool}]{save = {\ttfamily true} }\end{DoxyParamCaption})}



Definition at line 694 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{695 \{}
\DoxyCodeLine{696   \textcolor{comment}{// then actually if it's enabled ensure the upper nibble is set}}
\DoxyCodeLine{697   \textcolor{keywordflow}{if} (enable) \{}
\DoxyCodeLine{698     \textcolor{comment}{// set the cur mode index as the upper nibble}}
\DoxyCodeLine{699     \mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}} |= flag;}
\DoxyCodeLine{700   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{701     \mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}} \&= \string~flag;}
\DoxyCodeLine{702   \}}
\DoxyCodeLine{703   \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Toggled instant on/off to \%s"{}}, enable ? \textcolor{stringliteral}{"{}on"{}} : \textcolor{stringliteral}{"{}off"{}});}
\DoxyCodeLine{704   \textcolor{keywordflow}{return} !save || \mbox{\hyperlink{classModes_ade2a9cca4ba60327352111a369c28a15}{saveHeader}}();}
\DoxyCodeLine{705 \}}

\end{DoxyCode}


References DEBUG\+\_\+\+LOGF, m\+\_\+global\+Flags, and save\+Header().



Referenced by Vortex\+::load\+From\+Json(), set\+Advanced\+Menus(), set\+Keychain\+Mode(), set\+Locked(), and set\+One\+Click\+Mode().

\mbox{\Hypertarget{classModes_affcfb49e44287fe547660d36eb16e56b}\label{classModes_affcfb49e44287fe547660d36eb16e56b}} 
\index{Modes@{Modes}!setKeychainMode@{setKeychainMode}}
\index{setKeychainMode@{setKeychainMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{setKeychainMode()}{setKeychainMode()}}
{\footnotesize\ttfamily bool Modes\+::set\+Keychain\+Mode (\begin{DoxyParamCaption}\item[{bool}]{active,  }\item[{bool}]{save = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 159 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{159                                                       \{}
\DoxyCodeLine{160     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_af6820eafbbb127aeec832813dd7685dc}{setFlag}}(\mbox{\hyperlink{Modes_8h_a57b484625e75f9334ddc6c8a64c31b13}{MODES\_FLAG\_KEYCHAIN}}, active, save);}
\DoxyCodeLine{161   \}}

\end{DoxyCode}


References MODES\+\_\+\+FLAG\+\_\+\+KEYCHAIN, and set\+Flag().

\mbox{\Hypertarget{classModes_acbeb86757b46232d0f0c6dcdef755046}\label{classModes_acbeb86757b46232d0f0c6dcdef755046}} 
\index{Modes@{Modes}!setLocked@{setLocked}}
\index{setLocked@{setLocked}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{setLocked()}{setLocked()}}
{\footnotesize\ttfamily bool Modes\+::set\+Locked (\begin{DoxyParamCaption}\item[{bool}]{locked,  }\item[{bool}]{save = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 145 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{145                                                 \{}
\DoxyCodeLine{146     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_af6820eafbbb127aeec832813dd7685dc}{setFlag}}(\mbox{\hyperlink{Modes_8h_a2f796fdb7e7077c9d6e4a0e58866a512}{MODES\_FLAG\_LOCKED}}, \mbox{\hyperlink{classModes_a02a1ac5ad4458011fb2dfe66920fd2c3}{locked}}, save);}
\DoxyCodeLine{147   \}}

\end{DoxyCode}


References locked(), MODES\+\_\+\+FLAG\+\_\+\+LOCKED, and set\+Flag().



Referenced by Vortex\+Engine\+::tick().

\mbox{\Hypertarget{classModes_a6e48b3cd5cad301c0af30ce2f034478c}\label{classModes_a6e48b3cd5cad301c0af30ce2f034478c}} 
\index{Modes@{Modes}!setOneClickMode@{setOneClickMode}}
\index{setOneClickMode@{setOneClickMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{setOneClickMode()}{setOneClickMode()}}
{\footnotesize\ttfamily bool Modes\+::set\+One\+Click\+Mode (\begin{DoxyParamCaption}\item[{bool}]{enable,  }\item[{bool}]{save = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 138 of file Modes.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{138                                                       \{}
\DoxyCodeLine{139     \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_af6820eafbbb127aeec832813dd7685dc}{setFlag}}(\mbox{\hyperlink{Modes_8h_a6fc6ef6c1db20c133907e52576cb8364}{MODES\_FLAG\_ONE\_CLICK}}, enable, save);}
\DoxyCodeLine{140   \}}

\end{DoxyCode}


References MODES\+\_\+\+FLAG\+\_\+\+ONE\+\_\+\+CLICK, and set\+Flag().

\mbox{\Hypertarget{classModes_a86dc60444399ab04d49f77935f68e8dd}\label{classModes_a86dc60444399ab04d49f77935f68e8dd}} 
\index{Modes@{Modes}!setStartupMode@{setStartupMode}}
\index{setStartupMode@{setStartupMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{setStartupMode()}{setStartupMode()}}
{\footnotesize\ttfamily void Modes\+::set\+Startup\+Mode (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{index }\end{DoxyParamCaption})}



Definition at line 675 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{676 \{}
\DoxyCodeLine{677   \textcolor{comment}{// zero out the upper nibble to disable}}
\DoxyCodeLine{678   \mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}} \&= 0x0F;}
\DoxyCodeLine{679   \textcolor{comment}{// or in the index value shifted into the upper nibble}}
\DoxyCodeLine{680   \mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}} |= (index << 4) \& 0xF0;}
\DoxyCodeLine{681 \}}

\end{DoxyCode}


References m\+\_\+global\+Flags.



Referenced by Vortex\+Engine\+::enter\+Sleep(), and set\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a7cb704d905f26b1d1e9e748c87b547a1}\label{classModes_a7cb704d905f26b1d1e9e748c87b547a1}} 
\index{Modes@{Modes}!shiftCurMode@{shiftCurMode}}
\index{shiftCurMode@{shiftCurMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{shiftCurMode()}{shiftCurMode()}}
{\footnotesize\ttfamily bool Modes\+::shift\+Cur\+Mode (\begin{DoxyParamCaption}\item[{int32\+\_\+t}]{offset = {\ttfamily 1} }\end{DoxyParamCaption})}



Definition at line 442 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{443 \{}
\DoxyCodeLine{444   uint32\_t newPos = (uint32\_t)((int32\_t)\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}} + offset);}
\DoxyCodeLine{445   \textcolor{keywordflow}{if} (newPos >= \mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}}) \{}
\DoxyCodeLine{446     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{447   \}}
\DoxyCodeLine{448   \textcolor{keywordflow}{if} (newPos == \mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}}) \{}
\DoxyCodeLine{449     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{450   \}}
\DoxyCodeLine{451   \textcolor{comment}{// get the target mode at the position of the shift}}
\DoxyCodeLine{452   ModeLink *target = \mbox{\hyperlink{classModes_a25f0e61bb0ff6ebc3d27b862b7b83838}{getModeLink}}(newPos);}
\DoxyCodeLine{453   \textcolor{keywordflow}{if} (!target) \{}
\DoxyCodeLine{454     \textcolor{comment}{// invalid new position?}}
\DoxyCodeLine{455     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{456   \}}
\DoxyCodeLine{457   \textcolor{comment}{// special case for moving first in list forward}}
\DoxyCodeLine{458   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}} \&\& offset > 0) \{}
\DoxyCodeLine{459     \textcolor{comment}{// update main list ptr}}
\DoxyCodeLine{460     \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}} = \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a5f4e9c451032b7b7d3132da874653900}{next}}();}
\DoxyCodeLine{461   \}}
\DoxyCodeLine{462   \textcolor{comment}{// unlink the current link}}
\DoxyCodeLine{463   \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}}-\/>\mbox{\hyperlink{classModes_1_1ModeLink_a795d5e69c097cc96b0db26f55415bb51}{unlinkSelf}}();}
\DoxyCodeLine{464   \textcolor{comment}{// update the current position to reflect our new pos}}
\DoxyCodeLine{465   \mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}} = newPos;}
\DoxyCodeLine{466   \textcolor{comment}{// then re-\/link the mode at the new spot}}
\DoxyCodeLine{467   \textcolor{keywordflow}{if} (offset < 0) \{}
\DoxyCodeLine{468     \textcolor{comment}{// link the link before our target link}}
\DoxyCodeLine{469     target-\/>linkBefore(\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}});}
\DoxyCodeLine{470     \textcolor{comment}{// special case for moving into first in list}}
\DoxyCodeLine{471     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_aee36ec773858cf347b90bd1538b0a2b8}{m\_curMode}}) \{}
\DoxyCodeLine{472       \mbox{\hyperlink{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}{m\_storedModes}} = \mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}};}
\DoxyCodeLine{473     \}}
\DoxyCodeLine{474   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{475     \textcolor{comment}{// link the link after our target link}}
\DoxyCodeLine{476     target-\/>\mbox{\hyperlink{classModes_1_1ModeLink_aa5fbd874e03f975ed8723afcaebeb202}{linkAfter}}(\mbox{\hyperlink{classModes_a6ae3d922b23992658a719a4f13b13e81}{m\_pCurModeLink}});}
\DoxyCodeLine{477   \}}
\DoxyCodeLine{478   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{479 \}}

\end{DoxyCode}


References get\+Mode\+Link(), Modes\+::\+Mode\+Link\+::link\+After(), Modes\+::\+Mode\+Link\+::link\+Before(), m\+\_\+cur\+Mode, m\+\_\+num\+Modes, m\+\_\+p\+Cur\+Mode\+Link, m\+\_\+stored\+Modes, Modes\+::\+Mode\+Link\+::next(), and Modes\+::\+Mode\+Link\+::unlink\+Self().



Referenced by Vortex\+::shift\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a354ffb53eeff1a351ef81ce55eae472a}\label{classModes_a354ffb53eeff1a351ef81ce55eae472a}} 
\index{Modes@{Modes}!startupMode@{startupMode}}
\index{startupMode@{startupMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{startupMode()}{startupMode()}}
{\footnotesize\ttfamily uint8\+\_\+t Modes\+::startup\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 683 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{684 \{}
\DoxyCodeLine{685   \textcolor{comment}{// zero out the upper nibble to disable}}
\DoxyCodeLine{686   \textcolor{keywordflow}{return} (\mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}} \& 0xF0) >> 4;}
\DoxyCodeLine{687 \}}

\end{DoxyCode}


References m\+\_\+global\+Flags.



Referenced by switch\+To\+Startup\+Mode().

\mbox{\Hypertarget{classModes_af364c05c80262b084d6150346564721d}\label{classModes_af364c05c80262b084d6150346564721d}} 
\index{Modes@{Modes}!switchToStartupMode@{switchToStartupMode}}
\index{switchToStartupMode@{switchToStartupMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{switchToStartupMode()}{switchToStartupMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMode}{Mode}} $\ast$ Modes\+::switch\+To\+Startup\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 689 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{690 \{}
\DoxyCodeLine{691   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a65f088d9076706c4976f7282be323e50}{setCurMode}}(\mbox{\hyperlink{classModes_a354ffb53eeff1a351ef81ce55eae472a}{startupMode}}());}
\DoxyCodeLine{692 \}}

\end{DoxyCode}


References set\+Cur\+Mode(), and startup\+Mode().



Referenced by load\+From\+Buffer(), and load\+Storage().

\mbox{\Hypertarget{classModes_ae5c68f28c424a2a08ba659e9373898e3}\label{classModes_ae5c68f28c424a2a08ba659e9373898e3}} 
\index{Modes@{Modes}!unserialize@{unserialize}}
\index{unserialize@{unserialize}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{unserialize()}{unserialize()}}
{\footnotesize\ttfamily bool Modes\+::unserialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{buffer }\end{DoxyParamCaption})}



Definition at line 352 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{353 \{}
\DoxyCodeLine{354   \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Loading modes..."{}});}
\DoxyCodeLine{355   \textcolor{comment}{// this is good on memory, but it erases what they have stored before we}}
\DoxyCodeLine{356   \textcolor{comment}{// know whether there is something actually saved in the serial buffer}}
\DoxyCodeLine{357   \mbox{\hyperlink{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}{clearModes}}();}
\DoxyCodeLine{358   \textcolor{comment}{// unserialize the number of modes next}}
\DoxyCodeLine{359   uint8\_t \mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}} = 0;}
\DoxyCodeLine{360   \textcolor{keywordflow}{if} (!modesBuffer.unserialize8(\&\mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}})) \{}
\DoxyCodeLine{361     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{362   \}}
\DoxyCodeLine{363   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}}) \{}
\DoxyCodeLine{364     \mbox{\hyperlink{Log_8h_a5d2f30bd1cbcf49f829a7e8eb6173c06}{DEBUG\_LOG}}(\textcolor{stringliteral}{"{}Did not find any modes"{}});}
\DoxyCodeLine{365     \textcolor{comment}{// this kinda sucks whatever they had loaded is gone}}
\DoxyCodeLine{366     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{367   \}}
\DoxyCodeLine{368   \textcolor{comment}{// foreach expected mode}}
\DoxyCodeLine{369   \textcolor{keywordflow}{for} (uint8\_t i = 0; i < \mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}}; ++i) \{}
\DoxyCodeLine{370     \textcolor{comment}{// just copy the serialized mode into the internal storage because}}
\DoxyCodeLine{371     \textcolor{comment}{// we store the modes in a serialized manner so that they are smaller}}
\DoxyCodeLine{372     \textcolor{comment}{// then we unpack them when we instantiate the mode}}
\DoxyCodeLine{373     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a26c54d5906a00353965d679e7f0a63a6}{addSerializedMode}}(modesBuffer)) \{}
\DoxyCodeLine{374       \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Failed to add mode \%u after unserialization"{}}, i);}
\DoxyCodeLine{375       \textcolor{comment}{// clear work so far?}}
\DoxyCodeLine{376       \mbox{\hyperlink{classModes_abfb857566f5d83bb4ea6bf9417e5f9ac}{clearModes}}();}
\DoxyCodeLine{377       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{378     \}}
\DoxyCodeLine{379   \}}
\DoxyCodeLine{380   \mbox{\hyperlink{Log_8h_a8bdccae09f7cdda8fb311e0bd81c35dc}{DEBUG\_LOGF}}(\textcolor{stringliteral}{"{}Loaded \%u modes from storage (\%u bytes)"{}}, \mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}}, modesBuffer.size());}
\DoxyCodeLine{381   \textcolor{keywordflow}{return} (\mbox{\hyperlink{classModes_add7e1e52edef93f8bee84b03e1916c21}{m\_numModes}} == \mbox{\hyperlink{classModes_a0710ac2d5d384aec9174fdba4cdc860e}{numModes}});}
\DoxyCodeLine{382 \}}

\end{DoxyCode}


References add\+Serialized\+Mode(), clear\+Modes(), DEBUG\+\_\+\+LOG, DEBUG\+\_\+\+LOGF, m\+\_\+num\+Modes, num\+Modes(), Byte\+Stream\+::size(), and Byte\+Stream\+::unserialize8().



Referenced by load\+From\+Buffer().

\mbox{\Hypertarget{classModes_a0e4a896bf673ecc51bf52f3efabf8aca}\label{classModes_a0e4a896bf673ecc51bf52f3efabf8aca}} 
\index{Modes@{Modes}!unserializeSaveHeader@{unserializeSaveHeader}}
\index{unserializeSaveHeader@{unserializeSaveHeader}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{unserializeSaveHeader()}{unserializeSaveHeader()}}
{\footnotesize\ttfamily bool Modes\+::unserialize\+Save\+Header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classByteStream}{Byte\+Stream}} \&}]{save\+Buffer }\end{DoxyParamCaption})}



Definition at line 277 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{278 \{}
\DoxyCodeLine{279   \textcolor{comment}{// reset the unserializer index before unserializing anything}}
\DoxyCodeLine{280   \mbox{\hyperlink{classModes_ade2a9cca4ba60327352111a369c28a15}{saveHeader}}.resetUnserializer();}
\DoxyCodeLine{281   uint8\_t major = 0;}
\DoxyCodeLine{282   uint8\_t minor = 0;}
\DoxyCodeLine{283   \textcolor{comment}{// unserialize the vortex version}}
\DoxyCodeLine{284   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_ade2a9cca4ba60327352111a369c28a15}{saveHeader}}.unserialize8(\&major)) \{}
\DoxyCodeLine{285     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{286   \}}
\DoxyCodeLine{287   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_ade2a9cca4ba60327352111a369c28a15}{saveHeader}}.unserialize8(\&minor)) \{}
\DoxyCodeLine{288     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{289   \}}
\DoxyCodeLine{290   \textcolor{comment}{// check the version for incompatibility}}
\DoxyCodeLine{291   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_aa85a9e4f12bc72bedd7b0a9c5a9bd970}{checkVersion}}(major, minor)) \{}
\DoxyCodeLine{292     \textcolor{comment}{// incompatible version}}
\DoxyCodeLine{293     \mbox{\hyperlink{Log_8h_aed976922ae10c35e5e5241d15f5a06af}{ERROR\_LOGF}}(\textcolor{stringliteral}{"{}Incompatible savefile version: \%u.\%u"{}}, major, minor);}
\DoxyCodeLine{294     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{295   \}}
\DoxyCodeLine{296   \textcolor{comment}{// NOTE: instead of global brightness the duo uses this to store the}}
\DoxyCodeLine{297   \textcolor{comment}{//       startup mode ID. The duo doesn't offer a global brightness option}}
\DoxyCodeLine{298   \textcolor{comment}{// unserialize the global brightness}}
\DoxyCodeLine{299   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_ade2a9cca4ba60327352111a369c28a15}{saveHeader}}.unserialize8(\&\mbox{\hyperlink{classModes_a9929c8efa425648fa8a2e85028b1b303}{m\_globalFlags}})) \{}
\DoxyCodeLine{300     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{301   \}}
\DoxyCodeLine{302   \textcolor{comment}{// unserialize the global brightness}}
\DoxyCodeLine{303   uint8\_t brightness = 0;}
\DoxyCodeLine{304   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_ade2a9cca4ba60327352111a369c28a15}{saveHeader}}.unserialize8(\&brightness)) \{}
\DoxyCodeLine{305     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{306   \}}
\DoxyCodeLine{307   \textcolor{keywordflow}{if} (brightness) \{}
\DoxyCodeLine{308     \mbox{\hyperlink{classModes_afbfd9e5a86a43e4637dfd1d01b021290}{m\_engine}}.\mbox{\hyperlink{classVortexEngine_a6db4e68fe048d9ff0fbb15cc126f28fb}{leds}}().\mbox{\hyperlink{classLeds_a83aaff79b579de96c87ab036a2a0e2c3}{setBrightness}}(brightness);}
\DoxyCodeLine{309   \}}
\DoxyCodeLine{310   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{311 \}}

\end{DoxyCode}


References Vortex\+Engine\+::check\+Version(), ERROR\+\_\+\+LOGF, Vortex\+Engine\+::leds(), m\+\_\+engine, m\+\_\+global\+Flags, save\+Header(), and Leds\+::set\+Brightness().



Referenced by init(), load\+From\+Buffer(), load\+Header(), and load\+Storage().

\mbox{\Hypertarget{classModes_a263cf02fb83d954b91c85d2d1e5411ee}\label{classModes_a263cf02fb83d954b91c85d2d1e5411ee}} 
\index{Modes@{Modes}!updateCurMode@{updateCurMode}}
\index{updateCurMode@{updateCurMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{updateCurMode()}{updateCurMode()}}
{\footnotesize\ttfamily bool Modes\+::update\+Cur\+Mode (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classMode}{Mode}} $\ast$}]{mode }\end{DoxyParamCaption})}



Definition at line 531 of file Modes.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{532 \{}
\DoxyCodeLine{533   \textcolor{keywordflow}{if} (!mode) \{}
\DoxyCodeLine{534     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{535   \}}
\DoxyCodeLine{536   \mbox{\hyperlink{classMode}{Mode}} *pCur = \mbox{\hyperlink{classModes_a1e520dc2ee457bc93a795e9945249dbd}{curMode}}();}
\DoxyCodeLine{537   \textcolor{keywordflow}{if} (!pCur) \{}
\DoxyCodeLine{538     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{539   \}}
\DoxyCodeLine{540   \textcolor{comment}{// utilize copy operator}}
\DoxyCodeLine{541   *pCur = *mode;}
\DoxyCodeLine{542   \textcolor{comment}{// immediately save this mode to the internal mode storage}}
\DoxyCodeLine{543   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classModes_a1cb4d9f5f52072994532cf62585a2719}{saveCurMode}}()) \{}
\DoxyCodeLine{544     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{545   \}}
\DoxyCodeLine{546   \textcolor{comment}{// initialize the new mode}}
\DoxyCodeLine{547   \textcolor{keywordflow}{return} \mbox{\hyperlink{classModes_a80610d5cba52a7faa04868e5062b38dc}{initCurMode}}();}
\DoxyCodeLine{548 \}}

\end{DoxyCode}


References cur\+Mode(), init\+Cur\+Mode(), and save\+Cur\+Mode().



Referenced by Mode\+Sharing\+::on\+Long\+Click(), Pattern\+Select\+::on\+Long\+Click(), Randomizer\+::on\+Long\+Click(), Vortex\+::parse\+Mode\+Json(), and Mode\+Sharing\+::receive\+Mode\+IR().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classModes_aee36ec773858cf347b90bd1538b0a2b8}\label{classModes_aee36ec773858cf347b90bd1538b0a2b8}} 
\index{Modes@{Modes}!m\_curMode@{m\_curMode}}
\index{m\_curMode@{m\_curMode}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{m\_curMode}{m\_curMode}}
{\footnotesize\ttfamily uint8\+\_\+t Modes\+::m\+\_\+cur\+Mode\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 238 of file Modes.\+h.



Referenced by cur\+Mode\+Index(), delete\+Cur\+Mode(), init\+Cur\+Mode(), next\+Mode(), next\+Mode\+Skip\+Empty(), previous\+Mode(), set\+Cur\+Mode(), and shift\+Cur\+Mode().

\mbox{\Hypertarget{classModes_afbfd9e5a86a43e4637dfd1d01b021290}\label{classModes_afbfd9e5a86a43e4637dfd1d01b021290}} 
\index{Modes@{Modes}!m\_engine@{m\_engine}}
\index{m\_engine@{m\_engine}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{m\_engine}{m\_engine}}
{\footnotesize\ttfamily \mbox{\hyperlink{classVortexEngine}{Vortex\+Engine}}\& Modes\+::m\+\_\+engine\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 229 of file Modes.\+h.



Referenced by add\+Mode(), add\+Mode\+From\+Buffer(), add\+Serialized\+Mode(), Modes\+::\+Mode\+Link\+::append(), clear\+Modes(), init(), Modes\+::\+Mode\+Link\+::instantiate(), load\+Header(), load\+Storage(), play(), save\+Header(), save\+Storage(), serialize\+Save\+Header(), set\+Cur\+Mode(), and unserialize\+Save\+Header().

\mbox{\Hypertarget{classModes_a9929c8efa425648fa8a2e85028b1b303}\label{classModes_a9929c8efa425648fa8a2e85028b1b303}} 
\index{Modes@{Modes}!m\_globalFlags@{m\_globalFlags}}
\index{m\_globalFlags@{m\_globalFlags}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{m\_globalFlags}{m\_globalFlags}}
{\footnotesize\ttfamily uint8\+\_\+t Modes\+::m\+\_\+global\+Flags\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 250 of file Modes.\+h.



Referenced by get\+Flag(), init(), reset\+Flags(), serialize\+Save\+Header(), set\+Flag(), set\+Startup\+Mode(), startup\+Mode(), and unserialize\+Save\+Header().

\mbox{\Hypertarget{classModes_aa7443de0e5c4aa84bbef7c7691876c5c}\label{classModes_aa7443de0e5c4aa84bbef7c7691876c5c}} 
\index{Modes@{Modes}!m\_lastSwitchTime@{m\_lastSwitchTime}}
\index{m\_lastSwitchTime@{m\_lastSwitchTime}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{m\_lastSwitchTime}{m\_lastSwitchTime}}
{\footnotesize\ttfamily uint32\+\_\+t Modes\+::m\+\_\+last\+Switch\+Time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 253 of file Modes.\+h.



Referenced by last\+Switch\+Time(), and set\+Cur\+Mode().

\mbox{\Hypertarget{classModes_afacf83dda468e498a781439c5b963520}\label{classModes_afacf83dda468e498a781439c5b963520}} 
\index{Modes@{Modes}!m\_loaded@{m\_loaded}}
\index{m\_loaded@{m\_loaded}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{m\_loaded}{m\_loaded}}
{\footnotesize\ttfamily bool Modes\+::m\+\_\+loaded\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 235 of file Modes.\+h.



Referenced by init(), and load().

\mbox{\Hypertarget{classModes_add7e1e52edef93f8bee84b03e1916c21}\label{classModes_add7e1e52edef93f8bee84b03e1916c21}} 
\index{Modes@{Modes}!m\_numModes@{m\_numModes}}
\index{m\_numModes@{m\_numModes}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{m\_numModes}{m\_numModes}}
{\footnotesize\ttfamily uint8\+\_\+t Modes\+::m\+\_\+num\+Modes\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 241 of file Modes.\+h.



Referenced by add\+Mode(), add\+Mode\+From\+Buffer(), add\+Serialized\+Mode(), clear\+Modes(), cur\+Mode(), delete\+Cur\+Mode(), get\+Mode\+Link(), init\+Cur\+Mode(), next\+Mode(), num\+Modes(), play(), previous\+Mode(), save\+Header(), save\+Storage(), serialize(), set\+Cur\+Mode(), shift\+Cur\+Mode(), and unserialize().

\mbox{\Hypertarget{classModes_a6ae3d922b23992658a719a4f13b13e81}\label{classModes_a6ae3d922b23992658a719a4f13b13e81}} 
\index{Modes@{Modes}!m\_pCurModeLink@{m\_pCurModeLink}}
\index{m\_pCurModeLink@{m\_pCurModeLink}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{m\_pCurModeLink}{m\_pCurModeLink}}
{\footnotesize\ttfamily \mbox{\hyperlink{classModes_1_1ModeLink}{Mode\+Link}}$\ast$ Modes\+::m\+\_\+p\+Cur\+Mode\+Link\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 244 of file Modes.\+h.



Referenced by clear\+Modes(), cur\+Mode(), cur\+Mode\+Instantiated(), delete\+Cur\+Mode(), init\+Cur\+Mode(), play(), save\+Cur\+Mode(), save\+Storage(), serialize(), set\+Cur\+Mode(), and shift\+Cur\+Mode().

\mbox{\Hypertarget{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}\label{classModes_a8957a8b2e2e9d5f5840f559ad3cb7e52}} 
\index{Modes@{Modes}!m\_storedModes@{m\_storedModes}}
\index{m\_storedModes@{m\_storedModes}!Modes@{Modes}}
\doxysubsubsection{\texorpdfstring{m\_storedModes}{m\_storedModes}}
{\footnotesize\ttfamily \mbox{\hyperlink{classModes_1_1ModeLink}{Mode\+Link}}$\ast$ Modes\+::m\+\_\+stored\+Modes\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 247 of file Modes.\+h.



Referenced by add\+Mode(), add\+Mode\+From\+Buffer(), clear\+Modes(), delete\+Cur\+Mode(), get\+Mode\+Link(), save\+Storage(), serialize(), and shift\+Cur\+Mode().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Vortex\+Engine/src/\+Modes/\mbox{\hyperlink{Modes_8h}{Modes.\+h}}\item 
Vortex\+Engine/src/\+Modes/\mbox{\hyperlink{Modes_8cpp}{Modes.\+cpp}}\end{DoxyCompactItemize}
