\hypertarget{classSequencedPattern}{}\doxysection{Sequenced\+Pattern Class Reference}
\label{classSequencedPattern}\index{SequencedPattern@{SequencedPattern}}


{\ttfamily \#include $<$Sequenced\+Pattern.\+h$>$}



Inheritance diagram for Sequenced\+Pattern\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{classSequencedPattern__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Sequenced\+Pattern\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classSequencedPattern__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{classSequencedPattern_a0a11ebe38295d0e3099ea19d9f4bdffd}{$\sim$\+Sequenced\+Pattern}} ()
\item 
virtual void \mbox{\hyperlink{classSequencedPattern_ab972b3f7756799c8e2fecc72697ab7ba}{init}} () override
\item 
virtual void \mbox{\hyperlink{classSequencedPattern_ab48ffe5e91489ca51bed52bca83719be}{play}} () override
\item 
void \mbox{\hyperlink{classSequencedPattern_a29ae0e464389caf560b1532218b198c4}{bind\+Sequence}} (const \mbox{\hyperlink{classSequence}{Sequence}} \&sequence)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSequencedPattern_af9fab556a43252c324c544584a780caf}{Sequenced\+Pattern}} (const \mbox{\hyperlink{classPatternArgs}{Pattern\+Args}} \&args)
\item 
\mbox{\hyperlink{classSequencedPattern_a9824302656e56735589df8f34184365f}{Sequenced\+Pattern}} (const \mbox{\hyperlink{classPatternArgs}{Pattern\+Args}} \&args, const \mbox{\hyperlink{classSequence}{Sequence}} \&sequence)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSequence}{Sequence}} \mbox{\hyperlink{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}{m\+\_\+sequence}}
\item 
uint8\+\_\+t \mbox{\hyperlink{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}{m\+\_\+cur\+Sequence}}
\item 
\mbox{\hyperlink{classTimer}{Timer}} \mbox{\hyperlink{classSequencedPattern_ab659679517694cda46121c63a1ebdde1}{m\+\_\+timer}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 13 of file Sequenced\+Pattern.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classSequencedPattern_af9fab556a43252c324c544584a780caf}\label{classSequencedPattern_af9fab556a43252c324c544584a780caf}} 
\index{SequencedPattern@{SequencedPattern}!SequencedPattern@{SequencedPattern}}
\index{SequencedPattern@{SequencedPattern}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{SequencedPattern()}{SequencedPattern()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Sequenced\+Pattern\+::\+Sequenced\+Pattern (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classPatternArgs}{Pattern\+Args}} \&}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 12 of file Sequenced\+Pattern.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{12                                                           :}
\DoxyCodeLine{13   \mbox{\hyperlink{classCompoundPattern_a3a64979996ffc055e7e6adfe3d82a0f0}{CompoundPattern}}(args),}
\DoxyCodeLine{14   \mbox{\hyperlink{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}{m\_sequence}}(),}
\DoxyCodeLine{15   \mbox{\hyperlink{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}{m\_curSequence}}(0)}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{17   \textcolor{comment}{// SequencedPattern is an abstract class it cannot be directly}}
\DoxyCodeLine{18   \textcolor{comment}{// instantiated so we do not need to assign a pattern id}}
\DoxyCodeLine{19 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classSequencedPattern_a9824302656e56735589df8f34184365f}\label{classSequencedPattern_a9824302656e56735589df8f34184365f}} 
\index{SequencedPattern@{SequencedPattern}!SequencedPattern@{SequencedPattern}}
\index{SequencedPattern@{SequencedPattern}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{SequencedPattern()}{SequencedPattern()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Sequenced\+Pattern\+::\+Sequenced\+Pattern (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classPatternArgs}{Pattern\+Args}} \&}]{args,  }\item[{const \mbox{\hyperlink{classSequence}{Sequence}} \&}]{sequence }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 21 of file Sequenced\+Pattern.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{21                                                                                     :}
\DoxyCodeLine{22   \mbox{\hyperlink{classCompoundPattern_a3a64979996ffc055e7e6adfe3d82a0f0}{CompoundPattern}}(args),}
\DoxyCodeLine{23   \mbox{\hyperlink{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}{m\_sequence}}(sequence),}
\DoxyCodeLine{24   \mbox{\hyperlink{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}{m\_curSequence}}(0)}
\DoxyCodeLine{25 \{}
\DoxyCodeLine{26   \textcolor{comment}{// SequencedPattern is an abstract class it cannot be directly}}
\DoxyCodeLine{27   \textcolor{comment}{// instantiated so we do not need to assign a pattern id}}
\DoxyCodeLine{28 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classSequencedPattern_a0a11ebe38295d0e3099ea19d9f4bdffd}\label{classSequencedPattern_a0a11ebe38295d0e3099ea19d9f4bdffd}} 
\index{SequencedPattern@{SequencedPattern}!````~SequencedPattern@{$\sim$SequencedPattern}}
\index{````~SequencedPattern@{$\sim$SequencedPattern}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{$\sim$SequencedPattern()}{~SequencedPattern()}}
{\footnotesize\ttfamily Sequenced\+Pattern\+::$\sim$\+Sequenced\+Pattern (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Definition at line 30 of file Sequenced\+Pattern.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{31 \{}
\DoxyCodeLine{32 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classSequencedPattern_a29ae0e464389caf560b1532218b198c4}\label{classSequencedPattern_a29ae0e464389caf560b1532218b198c4}} 
\index{SequencedPattern@{SequencedPattern}!bindSequence@{bindSequence}}
\index{bindSequence@{bindSequence}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{bindSequence()}{bindSequence()}}
{\footnotesize\ttfamily void Sequenced\+Pattern\+::bind\+Sequence (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classSequence}{Sequence}} \&}]{sequence }\end{DoxyParamCaption})}



Definition at line 96 of file Sequenced\+Pattern.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{97 \{}
\DoxyCodeLine{98   \mbox{\hyperlink{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}{m\_sequence}} = sequence;}
\DoxyCodeLine{99 \}}

\end{DoxyCode}


References m\+\_\+sequence.

\mbox{\Hypertarget{classSequencedPattern_ab972b3f7756799c8e2fecc72697ab7ba}\label{classSequencedPattern_ab972b3f7756799c8e2fecc72697ab7ba}} 
\index{SequencedPattern@{SequencedPattern}!init@{init}}
\index{init@{init}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily void Sequenced\+Pattern\+::init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classCompoundPattern_a543d47cc3f7f4bf29fc7ed667362edf6}{Compound\+Pattern}}.



Definition at line 35 of file Sequenced\+Pattern.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{36 \{}
\DoxyCodeLine{37   \mbox{\hyperlink{classCompoundPattern_a543d47cc3f7f4bf29fc7ed667362edf6}{CompoundPattern::init}}();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39   \textcolor{comment}{// start the sequence at 0}}
\DoxyCodeLine{40   \mbox{\hyperlink{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}{m\_curSequence}} = 0;}
\DoxyCodeLine{41   \mbox{\hyperlink{classSequencedPattern_ab659679517694cda46121c63a1ebdde1}{m\_timer}}.\mbox{\hyperlink{classTimer_a9020542d73357a4eef512eefaf57524b}{reset}}();}
\DoxyCodeLine{42 }
\DoxyCodeLine{43   \textcolor{comment}{// create an alarm for each duration in the sequence}}
\DoxyCodeLine{44   \textcolor{keywordflow}{for} (uint8\_t i = 0; i < \mbox{\hyperlink{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}{m\_sequence}}.\mbox{\hyperlink{classSequence_a5ef464b4e753e922915d367215a52b74}{numSteps}}(); ++i) \{}
\DoxyCodeLine{45     \mbox{\hyperlink{classSequencedPattern_ab659679517694cda46121c63a1ebdde1}{m\_timer}}.\mbox{\hyperlink{classTimer_aecfcc5cd99115c67b5f5f7a485bd7a81}{addAlarm}}(\mbox{\hyperlink{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}{m\_sequence}}[i].m\_duration);}
\DoxyCodeLine{46   \}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48   \mbox{\hyperlink{classSequencedPattern_ab659679517694cda46121c63a1ebdde1}{m\_timer}}.\mbox{\hyperlink{classTimer_a4f816271e1661c4eb03afc87e2f78c6a}{start}}();}
\DoxyCodeLine{49 }
\DoxyCodeLine{50   \textcolor{comment}{// TODO: Play first sequence step in init?}}
\DoxyCodeLine{51 \}}

\end{DoxyCode}


References Timer\+::add\+Alarm(), Compound\+Pattern\+::init(), m\+\_\+cur\+Sequence, m\+\_\+sequence, m\+\_\+timer, Sequence\+::num\+Steps(), Timer\+::reset(), and Timer\+::start().

\mbox{\Hypertarget{classSequencedPattern_ab48ffe5e91489ca51bed52bca83719be}\label{classSequencedPattern_ab48ffe5e91489ca51bed52bca83719be}} 
\index{SequencedPattern@{SequencedPattern}!play@{play}}
\index{play@{play}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{play()}{play()}}
{\footnotesize\ttfamily void Sequenced\+Pattern\+::play (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classCompoundPattern_acee370d7e9924623f9d402fce196a90a}{Compound\+Pattern}}.



Definition at line 54 of file Sequenced\+Pattern.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{55 \{}
\DoxyCodeLine{56   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classSequencedPattern_ab659679517694cda46121c63a1ebdde1}{m\_timer}}.\mbox{\hyperlink{classTimer_a8a6d962c92c8e2e641254ea28e1f0443}{alarm}}() != -\/1 \&\& !\mbox{\hyperlink{classSequencedPattern_ab659679517694cda46121c63a1ebdde1}{m\_timer}}.\mbox{\hyperlink{classTimer_aa31e5d7b7bfc90ae46c63496c3f8a86d}{onStart}}()) \{}
\DoxyCodeLine{57     \mbox{\hyperlink{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}{m\_curSequence}} = (\mbox{\hyperlink{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}{m\_curSequence}} + 1) \% \mbox{\hyperlink{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}{m\_sequence}}.\mbox{\hyperlink{classSequence_a5ef464b4e753e922915d367215a52b74}{numSteps}}();}
\DoxyCodeLine{58   \}}
\DoxyCodeLine{59   \textcolor{keyword}{const} \mbox{\hyperlink{classSequenceStep}{SequenceStep}} \&step = \mbox{\hyperlink{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}{m\_sequence}}[\mbox{\hyperlink{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}{m\_curSequence}}];}
\DoxyCodeLine{60   \textcolor{keywordflow}{for} (\mbox{\hyperlink{LedTypes_8h_a9fb57934b9165e8fcecafeafaf3a6a2c}{LedPos}} pos = \mbox{\hyperlink{LedTypes_8h_a9fb57934b9165e8fcecafeafaf3a6a2ca4bef9658b4b82ade748dfc8d1ce9523f}{LED\_FIRST}}; pos < \mbox{\hyperlink{LedTypes_8h_a9fb57934b9165e8fcecafeafaf3a6a2ca0bc6b9364ec72b19c74a14f15aa3832c}{LED\_COUNT}}; ++pos) \{}
\DoxyCodeLine{61     \textcolor{comment}{// the current initialized pattern for this LED}}
\DoxyCodeLine{62     \mbox{\hyperlink{classSingleLedPattern}{SingleLedPattern}} *curPat = \mbox{\hyperlink{classCompoundPattern_a450fcd9f7db7705bd04143c094ded162}{m\_ledPatterns}}[pos];}
\DoxyCodeLine{63     \textcolor{comment}{// the intended pattern ID for this LED on this step}}
\DoxyCodeLine{64     \mbox{\hyperlink{Patterns_8h_a40b65bd8b307c1134edfc6b99c16cd8c}{PatternID}} stepPattern = step.\mbox{\hyperlink{classSequenceStep_a572f54beae4eb81d22cf4d2566945508}{m\_patternMap}}[pos];}
\DoxyCodeLine{65     \textcolor{comment}{// the actual colorset being used might be the pattern's colorset}}
\DoxyCodeLine{66     \textcolor{keyword}{const} \mbox{\hyperlink{classColorset}{Colorset}} *curSet = \&\mbox{\hyperlink{classPattern_a60550e2689cbf71d057ccaf0b37fb43d}{m\_colorset}};}
\DoxyCodeLine{67     \textcolor{keywordflow}{if} (step.\mbox{\hyperlink{classSequenceStep_a6596ab7910c72168450816d2a0e39fda}{m\_colorsetMap}}[pos].numColors() > 0) \{}
\DoxyCodeLine{68       \textcolor{comment}{// or it might be the steps' colorset if it's not empty}}
\DoxyCodeLine{69       curSet = \&step.\mbox{\hyperlink{classSequenceStep_a6596ab7910c72168450816d2a0e39fda}{m\_colorsetMap}}[pos];}
\DoxyCodeLine{70     \}}
\DoxyCodeLine{71     \textcolor{comment}{// if there's no pattern, or pattern is wrong colorset or pattern ID}}
\DoxyCodeLine{72     \textcolor{keywordflow}{if} (!curPat || !curPat-\/>\mbox{\hyperlink{classPattern_a74bdb41c74915065e3c983427a6973d3}{getColorset}}().\mbox{\hyperlink{classColorset_af65f18b0a815156608cdf3cdff93e7af}{equals}}(curSet) || curPat-\/>\mbox{\hyperlink{classPattern_a9ffb45ae9cbb7188038bf1009ce842b0}{getPatternID}}() != stepPattern) \{}
\DoxyCodeLine{73       \textcolor{comment}{// delete any existing pattern and re-\/create it}}
\DoxyCodeLine{74       \textcolor{keyword}{delete} \mbox{\hyperlink{classCompoundPattern_a450fcd9f7db7705bd04143c094ded162}{m\_ledPatterns}}[pos];}
\DoxyCodeLine{75       \textcolor{comment}{// create whichever pattern this step is (maybe PATTERN\_NONE)}}
\DoxyCodeLine{76       curPat = \mbox{\hyperlink{classCompoundPattern_a450fcd9f7db7705bd04143c094ded162}{m\_ledPatterns}}[pos] = \mbox{\hyperlink{classPatternBuilder_a1574c02c557d91c4c87a28af3b49a638}{PatternBuilder::makeSingle}}(stepPattern);}
\DoxyCodeLine{77       \textcolor{comment}{// if a pattern was created then bind and init it}}
\DoxyCodeLine{78       \textcolor{keywordflow}{if} (curPat) \{}
\DoxyCodeLine{79         curPat-\/>\mbox{\hyperlink{classPattern_a7a940e0a37cf3d6d0e4dae99baa49455}{bind}}(pos);}
\DoxyCodeLine{80         curPat-\/>\mbox{\hyperlink{classPattern_ac1e57a402dc4268aa95bd52b04dcdf4e}{setColorset}}(*curSet);}
\DoxyCodeLine{81         curPat-\/>\mbox{\hyperlink{classSingleLedPattern_ae3713818ccd424142be290f14974e5ff}{init}}();}
\DoxyCodeLine{82       \}}
\DoxyCodeLine{83     \}}
\DoxyCodeLine{84     \textcolor{comment}{// if there's no pattern set, or the intended pattern of this step is NONE}}
\DoxyCodeLine{85     \textcolor{keywordflow}{if} (!curPat || stepPattern == \mbox{\hyperlink{Patterns_8h_a40b65bd8b307c1134edfc6b99c16cd8caf9610f0445822da8efff6bac441ca3de}{PATTERN\_NONE}}) \{}
\DoxyCodeLine{86       \textcolor{comment}{// clear the LED and don't play the pattern}}
\DoxyCodeLine{87       \mbox{\hyperlink{classLeds_a0592e8b8e3a048be061371588ce2fa09}{Leds::clearIndex}}(pos);}
\DoxyCodeLine{88       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{89     \}}
\DoxyCodeLine{90     \textcolor{comment}{// otherwise play the pattern on this index}}
\DoxyCodeLine{91     curPat-\/>\mbox{\hyperlink{classPattern_a351206aa151c8e49f175b8b3d41f6e9c}{play}}();}
\DoxyCodeLine{92   \}}
\DoxyCodeLine{93 \}}

\end{DoxyCode}


References Timer\+::alarm(), Pattern\+::bind(), Leds\+::clear\+Index(), Colorset\+::equals(), Pattern\+::get\+Colorset(), Pattern\+::get\+Pattern\+ID(), Single\+Led\+Pattern\+::init(), LED\+\_\+\+COUNT, LED\+\_\+\+FIRST, Pattern\+::m\+\_\+colorset, Sequence\+Step\+::m\+\_\+colorset\+Map, m\+\_\+cur\+Sequence, Compound\+Pattern\+::m\+\_\+led\+Patterns, Sequence\+Step\+::m\+\_\+pattern\+Map, m\+\_\+sequence, m\+\_\+timer, Pattern\+Builder\+::make\+Single(), Sequence\+::num\+Steps(), Timer\+::on\+Start(), PATTERN\+\_\+\+NONE, Pattern\+::play(), and Pattern\+::set\+Colorset().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}\label{classSequencedPattern_afd22f60c715385e12aecc52927eb5c61}} 
\index{SequencedPattern@{SequencedPattern}!m\_curSequence@{m\_curSequence}}
\index{m\_curSequence@{m\_curSequence}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{m\_curSequence}{m\_curSequence}}
{\footnotesize\ttfamily uint8\+\_\+t Sequenced\+Pattern\+::m\+\_\+cur\+Sequence\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 39 of file Sequenced\+Pattern.\+h.



Referenced by init(), and play().

\mbox{\Hypertarget{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}\label{classSequencedPattern_a9b23b3178a54b51450acd211feb54657}} 
\index{SequencedPattern@{SequencedPattern}!m\_sequence@{m\_sequence}}
\index{m\_sequence@{m\_sequence}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{m\_sequence}{m\_sequence}}
{\footnotesize\ttfamily \mbox{\hyperlink{classSequence}{Sequence}} Sequenced\+Pattern\+::m\+\_\+sequence\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 36 of file Sequenced\+Pattern.\+h.



Referenced by bind\+Sequence(), Chaser\+Pattern\+::\+Chaser\+Pattern(), init(), and play().

\mbox{\Hypertarget{classSequencedPattern_ab659679517694cda46121c63a1ebdde1}\label{classSequencedPattern_ab659679517694cda46121c63a1ebdde1}} 
\index{SequencedPattern@{SequencedPattern}!m\_timer@{m\_timer}}
\index{m\_timer@{m\_timer}!SequencedPattern@{SequencedPattern}}
\doxysubsubsection{\texorpdfstring{m\_timer}{m\_timer}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTimer}{Timer}} Sequenced\+Pattern\+::m\+\_\+timer\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 40 of file Sequenced\+Pattern.\+h.



Referenced by init(), and play().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Vortex\+Engine/src/\+Patterns/\+Multi/\+Sequencer/\mbox{\hyperlink{SequencedPattern_8h}{Sequenced\+Pattern.\+h}}\item 
Vortex\+Engine/src/\+Patterns/\+Multi/\+Sequencer/\mbox{\hyperlink{SequencedPattern_8cpp}{Sequenced\+Pattern.\+cpp}}\end{DoxyCompactItemize}
